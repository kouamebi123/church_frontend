import{r as d,j as e,O as u,B as i,z as de,bH as P,T as s,a5 as q,e as ce,ag as L,aP as O,bI as f,G as l,s as v,M as y,bJ as U,C as ue,A as pe,u as he,v as ge,X as be,w as xe,x as me,n as H,h as fe,i as ye,F as ve,t as we,bK as ke,bL as je}from"./mui-mRVmBbre.js";import{r as Se,F as V,t as c,q as Ce,w,l as A}from"./index-tq1YSY20.js";import"./vendor-Bzgz95E1.js";import"./redux-DbjaNwcH.js";import"./utils-DP_tgNw_.js";import"./router-BwhLjOj0.js";const z=u(i)(({theme:o})=>({minHeight:"100vh",width:"100%",background:`
    radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 40% 80%, rgba(120, 219, 255, 0.4) 0%, transparent 50%),
    linear-gradient(135deg, rgba(102, 45, 145, 0.1) 0%, rgba(158, 0, 93, 0.2) 50%, rgba(102, 45, 145, 0.1) 100%),
    url('/IMG_7993.jpg')
  `,backgroundSize:"cover, cover, cover, cover, cover",backgroundPosition:"center, center, center, center, center",backgroundAttachment:"fixed, fixed, fixed, fixed, fixed",backgroundRepeat:"no-repeat",padding:o.spacing(2,0),position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      linear-gradient(135deg, rgba(102, 45, 145, 0.7) 0%, rgba(158, 0, 93, 0.5) 25%, rgba(255, 20, 147, 0.3) 50%, rgba(102, 45, 145, 0.6) 75%, rgba(102, 45, 145, 0.8) 100%),
      radial-gradient(ellipse at top, rgba(255, 255, 255, 0.1) 0%, transparent 70%),
      radial-gradient(ellipse at bottom, rgba(158, 0, 93, 0.2) 0%, transparent 70%)
    `,zIndex:1,animation:"gradientShift 8s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
      radial-gradient(circle at 90% 80%, rgba(158, 0, 93, 0.1) 0%, transparent 20%),
      radial-gradient(circle at 50% 50%, rgba(255, 20, 147, 0.05) 0%, transparent 30%)
    `,zIndex:1,pointerEvents:"none",animation:"sparkle 6s ease-in-out infinite"},"@keyframes gradientShift":{"0%, 100%":{opacity:1,transform:"scale(1) rotate(0deg)"},"50%":{opacity:.8,transform:"scale(1.02) rotate(1deg)"}},"@keyframes sparkle":{"0%, 100%":{opacity:.3,transform:"scale(1)"},"50%":{opacity:.6,transform:"scale(1.1)"}}})),E=u(i)(({theme:o})=>({position:"relative",zIndex:3,display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",pointerEvents:"auto"})),$=u(fe)(({theme:o})=>({padding:o.spacing(4),[o.breakpoints.up("sm")]:{padding:o.spacing(6)},display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"900px",background:`
    linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 50%, rgba(255, 255, 255, 0.95) 100%),
    radial-gradient(circle at 50% 0%, rgba(158, 0, 93, 0.1) 0%, transparent 70%)
  `,backdropFilter:"blur(25px) saturate(180%)",borderRadius:o.spacing(5),border:"2px solid transparent",backgroundClip:"padding-box",boxShadow:`
    0 24px 48px rgba(102, 45, 145, 0.15),
    0 12px 24px rgba(158, 0, 93, 0.1),
    0 6px 12px rgba(255, 20, 147, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(158, 0, 93, 0.1)
  `,position:"relative",zIndex:4,overflow:"hidden",transform:"perspective(1000px) rotateX(2deg)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"perspective(1000px) rotateX(0deg) translateY(-8px)",boxShadow:`
      0 36px 72px rgba(102, 45, 145, 0.2),
      0 18px 36px rgba(158, 0, 93, 0.15),
      0 9px 18px rgba(255, 20, 147, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      inset 0 -1px 0 rgba(158, 0, 93, 0.15)
    `},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"6px",background:`
      linear-gradient(90deg, 
        #1b1464 0%, 
        #2a3184 25%, 
        #FF1493 50%, 
        #2a3184 75%, 
        #1b1464 100%
      )
    `,borderRadius:`${o.spacing(5)}px ${o.spacing(5)}px 0 0`,animation:"rainbowFlow 3s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      radial-gradient(circle at 20% 80%, rgba(158, 0, 93, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 20, 147, 0.02) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(102, 45, 145, 0.02) 0%, transparent 50%)
    `,pointerEvents:"none",animation:"subtleGlow 4s ease-in-out infinite"},"@keyframes rainbowFlow":{"0%, 100%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"}},"@keyframes subtleGlow":{"0%, 100%":{opacity:.5,transform:"scale(1)"},"50%":{opacity:.8,transform:"scale(1.05)"}}})),Fe=u(i)(({theme:o})=>({textAlign:"center",marginBottom:o.spacing(6),padding:o.spacing(5),background:`
    linear-gradient(135deg, 
      #1b1464 0%, 
      #2a3184 25%, 
      #FF1493 50%, 
      #2a3184 75%, 
      #1b1464 100%
    )
  `,backgroundSize:"200% 200%",animation:"rainbowFlow 4s ease-in-out infinite",borderRadius:o.spacing(4),color:"white",width:"100%",position:"relative",overflow:"hidden",transform:"perspective(1000px) rotateX(5deg)",transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:`
    0 15px 30px rgba(102, 45, 145, 0.3),
    0 7.5px 15px rgba(158, 0, 93, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3)
  `,"&:hover":{transform:"perspective(1000px) rotateX(0deg) scale(1.02)",boxShadow:`
      0 20px 40px rgba(102, 45, 145, 0.4),
      0 10px 20px rgba(158, 0, 93, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4)
    `,animation:"rainbowFlow 2s ease-in-out infinite, headerGlow 1s ease-in-out infinite"},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(255, 20, 147, 0.2) 0%, transparent 50%),
      radial-gradient(circle at 50% 50%, rgba(158, 0, 93, 0.1) 0%, transparent 70%)
    `,opacity:.8,animation:"sparkle 3s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:"50%",left:"50%",width:"200%",height:"200%",background:`
      conic-gradient(from 0deg at 50% 50%, 
        rgba(255, 255, 255, 0.1) 0deg,
        rgba(255, 20, 147, 0.1) 90deg,
        rgba(158, 0, 93, 0.1) 180deg,
        rgba(102, 45, 145, 0.1) 270deg,
        rgba(255, 255, 255, 0.1) 360deg
      )
    `,transform:"translate(-50%, -50%) rotate(0deg)",animation:"rotateGlow 8s linear infinite",pointerEvents:"none"},"@keyframes rainbowFlow":{"0%, 100%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"}},"@keyframes headerGlow":{"0%, 100%":{textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},"50%":{textShadow:"0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 20, 147, 0.6)"}},"@keyframes sparkle":{"0%, 100%":{opacity:.6,transform:"scale(1)"},"50%":{opacity:1,transform:"scale(1.05)"}},"@keyframes rotateGlow":{"0%":{transform:"translate(-50%, -50%) rotate(0deg)"},"100%":{transform:"translate(-50%, -50%) rotate(360deg)"}}})),X=u(i)(({theme:o})=>({display:"flex",alignItems:"center",justifyContent:"center",marginBottom:o.spacing(3),"& img":{height:80,width:"auto",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}})),Ie=u(i)(()=>({width:"100%"})),x=u(ye)(({theme:o})=>({"& .MuiOutlinedInput-root":{borderRadius:o.spacing(2),background:`
      linear-gradient(135deg, 
        rgba(255, 255, 255, 0.9) 0%, 
        rgba(248, 250, 252, 0.8) 100%
      )
    `,backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& fieldset":{border:"2px solid rgba(158, 0, 93, 0.3)",transition:"border-color 0.3s ease"},"&:hover fieldset":{border:"2px solid rgba(158, 0, 93, 0.5)",boxShadow:`
        0 0 15px rgba(158, 0, 93, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3)
      `},"&.Mui-focused fieldset":{border:"2px solid #2a3184",boxShadow:`
        0 0 20px rgba(158, 0, 93, 0.3),
        0 0 0 3px rgba(158, 0, 93, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.4)
      `}},"& .MuiInputLabel-root":{color:"rgba(102, 45, 145, 0.7)",fontWeight:600,transition:"all 0.3s ease","&.Mui-focused":{color:"#2a3184",textShadow:"0 0 10px rgba(158, 0, 93, 0.3)"}}})),k=u(we)(({theme:o})=>({borderRadius:o.spacing(2),background:`
    linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 250, 252, 0.8) 100%
    )
  `,backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& .MuiOutlinedInput-notchedOutline":{border:"2px solid rgba(158, 0, 93, 0.3)",transition:"border-color 0.3s ease"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"2px solid rgba(158, 0, 93, 0.5)",boxShadow:`
      0 0 15px rgba(158, 0, 93, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.3)
    `},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"2px solid #2a3184",boxShadow:`
      0 0 20px rgba(158, 0, 93, 0.3),
      0 0 0 3px rgba(158, 0, 93, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.4)
    `}})),j=u(ve)(({theme:o})=>({"& .MuiInputLabel-root":{color:"rgba(102, 45, 145, 0.7)",fontWeight:600,transition:"all 0.3s ease","&.Mui-focused":{color:"#2a3184",textShadow:"0 0 10px rgba(158, 0, 93, 0.3)"}}})),Te=u(i)(({theme:o})=>({width:"100%",border:"3px dashed #2a3184",borderRadius:o.spacing(4),padding:o.spacing(5),textAlign:"center",cursor:"pointer",position:"relative",overflow:"hidden",background:`
    linear-gradient(135deg, 
      rgba(158, 0, 93, 0.05) 0%, 
      rgba(255, 20, 147, 0.05) 50%, 
      rgba(158, 0, 93, 0.05) 100%
    )
  `,backdropFilter:"blur(10px)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",transform:"perspective(1000px) rotateX(1deg)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      linear-gradient(45deg, 
        rgba(158, 0, 93, 0.1) 0%, 
        transparent 50%, 
        rgba(255, 20, 147, 0.1) 100%
      )
    `,transform:"translateX(-100%)",transition:"transform 0.6s ease"},"&:hover":{borderColor:"#FF1493",borderStyle:"solid",background:`
      linear-gradient(135deg, 
        rgba(158, 0, 93, 0.1) 0%, 
        rgba(255, 20, 147, 0.1) 50%, 
        rgba(158, 0, 93, 0.1) 100%
      )
    `,transform:"perspective(1000px) rotateX(0deg) translateY(-4px) scale(1.02)",boxShadow:`
      0 15px 30px rgba(158, 0, 93, 0.2),
      0 10px 20px rgba(255, 20, 147, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2)
    `,"&::before":{transform:"translateX(100%)"}},"&:active":{transform:"perspective(1000px) rotateX(0deg) translateY(-2px) scale(1.01)",boxShadow:`
      0 10px 20px rgba(158, 0, 93, 0.3),
      0 8px 16px rgba(255, 20, 147, 0.2),
      inset 0 2px 4px rgba(0, 0, 0, 0.1)
    `}})),G=u(H)(({theme:o})=>({background:`
    linear-gradient(135deg, 
      #1b1464 0%, 
      #2a3184 25%, 
      #FF1493 50%, 
      #2a3184 75%, 
      #1b1464 100%
    )
  `,backgroundSize:"200% 200%",animation:"rainbowButton 3s ease-in-out infinite",color:"white",padding:o.spacing(2.5,8),fontSize:"1.3rem",fontWeight:700,borderRadius:o.spacing(5),textTransform:"none",position:"relative",overflow:"hidden",border:"3px solid transparent",backgroundClip:"padding-box",boxShadow:`
    0 15px 30px rgba(102, 45, 145, 0.3),
    0 8px 16px rgba(158, 0, 93, 0.2),
    0 0 15px rgba(255, 20, 147, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.3)
  `,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",transform:"perspective(1000px) rotateX(2deg)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`
      linear-gradient(45deg, 
        rgba(255, 255, 255, 0.3) 0%, 
        transparent 50%, 
        rgba(255, 255, 255, 0.3) 100%
      )
    `,transform:"translateX(-100%)",transition:"transform 0.6s ease"},"&:hover":{background:`
      linear-gradient(135deg, 
        #2D004D 0%, 
        #1b1464 25%, 
        #FF1493 50%, 
        #1b1464 75%, 
        #2D004D 100%
      )
    `,backgroundSize:"200% 200%",animation:"rainbowButton 1.5s ease-in-out infinite, buttonPulse 0.8s ease-in-out infinite",boxShadow:`
      0 20px 40px rgba(102, 45, 145, 0.4),
      0 12px 25px rgba(158, 0, 93, 0.3),
      0 0 40px rgba(255, 20, 147, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.4)
    `,transform:"perspective(1000px) rotateX(0deg) translateY(-6px) scale(1.08)","&::before":{transform:"translateX(100%)"}},"&:active":{transform:"perspective(1000px) rotateX(0deg) translateY(-3px) scale(1.05)",boxShadow:`
      0 10px 20px rgba(102, 45, 145, 0.5),
      0 8px 16px rgba(158, 0, 93, 0.4),
      inset 0 3px 6px rgba(0, 0, 0, 0.2)
    `},"&:disabled":{background:"#E9ECEF",color:"#6C757D",cursor:"not-allowed",transform:"none",boxShadow:"none",animation:"none","&::before":{display:"none"}},"@keyframes rainbowButton":{"0%, 100%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"}},"@keyframes buttonPulse":{"0%, 100%":{boxShadow:`
        0 20px 40px rgba(102, 45, 145, 0.4),
        0 12px 25px rgba(158, 0, 93, 0.3),
        0 0 40px rgba(255, 20, 147, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.4)
      `},"50%":{boxShadow:`
        0 20px 40px rgba(102, 45, 145, 0.5),
        0 10px 20px rgba(158, 0, 93, 0.4),
        0 0 50px rgba(255, 20, 147, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.5)
      `}}})),Re=()=>{const[o,Y]=d.useState([]),[_,S]=d.useState([]),[J,K]=d.useState([]),[Q,Z]=d.useState(!0),[W,M]=d.useState(!1),[ee,C]=d.useState(!1),[R,h]=d.useState(""),[b,F]=d.useState([]),[N,re]=d.useState(!1),[I,D]=d.useState(!1),te=()=>{D(!0),setTimeout(()=>{re(!0),D(!1)},800)},ae=[{value:"GOUVERNANCE",label:"Gouvernance"},{value:"ECODIM",label:"ECODIM"},{value:"SECTION",label:"Section"},{value:"VISITOR",label:"Visiteur"}],oe=Se({firstName:c().when(["isAnonymous","wantsToTestify"],{is:(t,a)=>!t||a,then:t=>t.required("Le prénom est requis"),otherwise:t=>t.notRequired()}),lastName:c().when(["isAnonymous","wantsToTestify"],{is:(t,a)=>!t||a,then:t=>t.required("Le nom est requis"),otherwise:t=>t.notRequired()}),phone:c().when("wantsToTestify",{is:!0,then:t=>t.test("phone-or-email","Un numéro de téléphone ou un email est requis pour témoigner lors d'un culte",function(a){const{email:n}=this.parent;return!!(a||n)}),otherwise:t=>t.notRequired()}),email:c().email("Format d'email invalide").when("wantsToTestify",{is:!0,then:t=>t.test("phone-or-email","Un numéro de téléphone ou un email est requis pour témoigner lors d'un culte",function(a){const{phone:n}=this.parent;return!!(a||n)}),otherwise:t=>t.notRequired()}),churchId:c().required("L'église est requise"),networkId:c(),testimonyType:c().when("networkId",{is:t=>!t||t==="AUCUN_RESEAU",then:t=>t.required("Le type de personne est requis"),otherwise:t=>t.notRequired()}),section:c().when("testimonyType",{is:"SECTION",then:t=>t.required("La section est requise"),otherwise:t=>t.notRequired()}),unit:c().when("testimonyType",{is:"SECTION",then:t=>t.required("L'unité est requise"),otherwise:t=>t.notRequired()}),category:c().required("La catégorie est requise"),content:c().required("Le témoignage est requis").min(100,"Le témoignage doit contenir au moins 100 caractères").max(5e3,"Le témoignage ne doit pas dépasser 5000 caractères"),isAnonymous:V(),wantsToTestify:V()}),r=Ce({initialValues:{firstName:"",lastName:"",phone:"",email:"",churchId:"",networkId:"",testimonyType:"",section:"",unit:"",category:"",content:"",isAnonymous:!0,wantsToTestify:!1},validationSchema:oe,validateOnMount:!1,onSubmit:async t=>{M(!0),h("");try{const a=new FormData;a.append("firstName",t.firstName),a.append("lastName",t.lastName),a.append("phone",t.phone||""),a.append("email",t.email||""),a.append("churchId",t.churchId);const n=t.networkId==="AUCUN_RESEAU"?null:t.networkId;a.append("networkId",n||""),a.append("testimonyType",t.testimonyType||""),a.append("section",t.section||""),a.append("unit",t.unit||""),a.append("category",t.category),a.append("content",t.content),a.append("isAnonymous",String(t.isAnonymous)),a.append("wantsToTestify",String(t.wantsToTestify)),b.forEach(T=>{a.append("illustrations",T)});const m=await(await fetch(`${w}/testimonies`,{method:"POST",body:a})).json();m.success?(C(!0),r.resetForm(),F([]),S([])):h(m.message||"Erreur lors de la soumission")}catch(a){A.error("Erreur lors de la soumission:",a),h("Erreur lors de la soumission du témoignage")}finally{M(!1)}}});d.useEffect(()=>{(async()=>{try{const[a,n]=await Promise.all([fetch(`${w}/testimonies/churches`),fetch(`${w}/testimonies/categories`)]);if(a.ok){const p=await a.json();Y(p.data||[])}if(n.ok){const p=await n.json();K(p.data||[])}}catch(a){A.error("Erreur lors du chargement des données:",a),h("Erreur lors du chargement des données")}finally{Z(!1)}})()},[]),d.useEffect(()=>{(async()=>{if(r.values.churchId)try{const a=await fetch(`${w}/testimonies/networks/${r.values.churchId}`);if(a.ok){const n=await a.json();S(n.data||[])}}catch(a){A.error("Erreur lors du chargement des réseaux:",a)}else S([])})()},[r.values.churchId]);const ie=t=>{const a=Array.from(t.target.files||[]),n=2,p=5*1024*1024;if(b.length+a.length>n){h(`Maximum ${n} fichiers autorisés. Vous avez déjà ${b.length} fichier(s) sélectionné(s).`);return}for(const g of a)if(g.size>p){h(`Le fichier "${g.name}" est trop volumineux. Taille maximale autorisée : 5 MB.`);return}const m=b.reduce((g,B)=>g+B.size,0),T=a.reduce((g,B)=>g+B.size,0),le=10*1024*1024;if(m+T>le){h("Taille totale des fichiers trop importante. Maximum autorisé : 10 MB au total.");return}h(""),F(g=>[...g,...a])},ne=t=>{if(t===0)return"0 Bytes";const a=1024,n=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(t)/Math.log(a));return`${parseFloat((t/Math.pow(a,p)).toFixed(2))} ${n[p]}`},se=t=>t.type?.startsWith("image/")?e.jsx(U,{}):t.type?.startsWith("video/")?e.jsx(ke,{}):e.jsx(je,{});return Q?e.jsx(z,{children:e.jsx(E,{children:e.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:e.jsx(de,{size:60,sx:{color:"var(--primary-color)"}})})})}):N?e.jsxs(e.Fragment,{children:[e.jsx(P,{styles:{"html, body":{scrollbarWidth:"thin",scrollbarColor:"var(--scrollbar-white) transparent"},"html::-webkit-scrollbar, body::-webkit-scrollbar":{width:"10px",height:"10px"},"html::-webkit-scrollbar-track, body::-webkit-scrollbar-track":{background:"transparent"},"html::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-white)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"},"*, *::before, *::after":{scrollbarWidth:"thin",scrollbarColor:"var(--scrollbar-white-hover) transparent"},"*::-webkit-scrollbar":{width:"10px",height:"10px"},"*::-webkit-scrollbar-track":{background:"transparent"},"*::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-white-hover)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"},"@keyframes pulse":{"0%":{opacity:1,transform:"scale(1)"},"50%":{opacity:.5,transform:"scale(1.2)"},"100%":{opacity:1,transform:"scale(1)"}}}}),e.jsx(z,{children:e.jsx(E,{children:e.jsx(ce,{direction:"up",in:N,timeout:800,children:e.jsxs($,{maxWidth:"md",children:[e.jsxs(i,{textAlign:"center",mb:4,width:"100%",children:[e.jsx(X,{children:e.jsx("img",{src:"/logo-sm-acer (1).png",alt:"Logo ACER"})}),e.jsx(s,{component:"h1",variant:"h3",sx:{mb:2,fontWeight:"bold",color:"#1b1464",textAlign:"center",fontFamily:'"Playfair Display", serif',textShadow:"0 2px 4px var(--text-shadow)"},children:"Partagez votre témoignage"}),e.jsxs(Fe,{children:[e.jsx(s,{variant:"h4",component:"h2",fontWeight:"bold",sx:{fontFamily:'"Playfair Display", serif',color:"white"},children:"Apocalypse 12:11"}),e.jsx(s,{variant:"h6",sx:{opacity:.95,fontStyle:"italic",fontFamily:'"Crimson Text", serif',lineHeight:1.6,color:"white"},children:`"Ils l'ont vaincu à cause du sang de l'agneau et à cause de la parole de leur témoignage, et ils n'ont pas aimé leur vie jusqu'à craindre la mort"`})]})]}),e.jsx(Ie,{children:e.jsxs(i,{component:"form",onSubmit:r.handleSubmit,noValidate:!0,sx:{width:"100%"},children:[e.jsxs(i,{sx:{mb:4},children:[e.jsx(s,{variant:"h6",sx:{mb:3,color:"#1b1464",borderBottom:"2px solid",borderColor:"var(--primary-color)",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Informations personnelles"}),e.jsxs(i,{sx:{p:1,backgroundColor:"var(--info-bg)",borderRadius:3,border:"2px solid var(--info-border)",mb:3,boxShadow:"0 3px 10px var(--info-shadow)"},children:[e.jsx(L,{control:e.jsx(O,{id:"testimony-is-anonymous",name:"isAnonymous",checked:!r.values.isAnonymous,onChange:t=>{const a=!t.target.checked;r.setFieldValue("isAnonymous",a),a&&(r.setFieldValue("firstName",""),r.setFieldValue("lastName",""))},sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"var(--primary-color)"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"var(--primary-color)"}}}),label:e.jsx(s,{variant:"h6",sx:{fontWeight:600,color:"var(--primary-color)",fontFamily:'"Playfair Display", serif'},children:"Je souhaite m'identifier"})}),e.jsx(f,{sx:{ml:4,color:"#1b1464",fontSize:"0.9rem"},children:r.values.isAnonymous?"Si vous ne souhaitez pas vous identifier, votre témoignage sera publié de manière anonyme":"Votre nom et prénom seront affichés avec votre témoignage"})]}),!r.values.isAnonymous&&e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-firstName",name:"firstName",label:"Prénom *",value:r.values.firstName,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.firstName&&!!r.errors.firstName,helperText:r.touched.firstName&&r.errors.firstName,autoComplete:"given-name"})}),e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-lastName",name:"lastName",label:"Nom *",value:r.values.lastName,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.lastName&&!!r.errors.lastName,helperText:r.touched.lastName&&r.errors.lastName,autoComplete:"family-name"})})]}),!r.values.isAnonymous&&e.jsxs(l,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-phone",name:"phone",label:"Numéro de téléphone",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.phone&&!!r.errors.phone,helperText:r.touched.phone&&r.errors.phone,autoComplete:"tel"})}),e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-email",name:"email",label:"Adresse email",type:"email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.email&&!!r.errors.email,helperText:r.touched.email&&r.errors.email,autoComplete:"email"})})]})]}),e.jsxs(i,{sx:{mb:4},children:[e.jsx(s,{variant:"h6",sx:{mb:3,color:"#1b1464",borderBottom:"2px solid",borderColor:"var(--primary-color)",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Appartenance"}),e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsxs(j,{fullWidth:!0,error:r.touched.churchId&&!!r.errors.churchId,children:[e.jsx(v,{id:"testimony-church-label",children:"Église *"}),e.jsx(k,{id:"testimony-church",name:"churchId",value:r.values.churchId,onChange:r.handleChange,onBlur:r.handleBlur,label:"Église *",labelId:"testimony-church-label",displayEmpty:!0,autoComplete:"off",children:o.map(t=>e.jsxs(y,{value:t.id,children:[t.nom," - ",t.ville]},t.id))}),r.touched.churchId&&r.errors.churchId&&e.jsx(f,{children:r.errors.churchId})]})}),e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsxs(j,{fullWidth:!0,children:[e.jsx(v,{id:"testimony-network-label",children:"Réseau"}),e.jsxs(k,{id:"testimony-network",name:"networkId",value:r.values.networkId,onChange:t=>{r.handleChange(t),t.target.value&&t.target.value!=="AUCUN_RESEAU"&&(r.setFieldValue("testimonyType",""),r.setFieldValue("section",""),r.setFieldValue("unit",""))},onBlur:r.handleBlur,label:"Réseau",labelId:"testimony-network-label",displayEmpty:!0,disabled:!r.values.churchId,autoComplete:"off",children:[e.jsx(y,{value:"AUCUN_RESEAU",children:e.jsx("em",{children:"Aucun réseau"})}),_.map(t=>e.jsx(y,{value:t.id,children:t.nom},t.id))]})]})})]}),(!r.values.networkId||r.values.networkId==="AUCUN_RESEAU")&&e.jsxs(l,{container:!0,spacing:2,sx:{mt:2},children:[e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsxs(j,{fullWidth:!0,error:r.touched.testimonyType&&!!r.errors.testimonyType,children:[e.jsx(v,{id:"testimony-type-label",children:"Type de personne *"}),e.jsx(k,{id:"testimony-type",name:"testimonyType",value:r.values.testimonyType,onChange:t=>{r.handleChange(t),t.target.value!=="SECTION"&&(r.setFieldValue("section",""),r.setFieldValue("unit",""))},onBlur:r.handleBlur,label:"Type de personne *",labelId:"testimony-type-label",displayEmpty:!0,autoComplete:"off",children:ae.map(t=>e.jsx(y,{value:t.value,children:t.label},t.value))}),r.touched.testimonyType&&r.errors.testimonyType&&e.jsx(f,{children:r.errors.testimonyType})]})}),r.values.testimonyType==="SECTION"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{item:!0,xs:3,sx:{width:"24%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-section",name:"section",label:"Section *",value:r.values.section,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.section&&!!r.errors.section,helperText:r.touched.section&&r.errors.section,placeholder:"Ex: Section 1",autoComplete:"off"})}),e.jsx(l,{item:!0,xs:3,sx:{width:"24%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-unit",name:"unit",label:"Unité *",value:r.values.unit,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.unit&&!!r.errors.unit,helperText:r.touched.unit&&r.errors.unit,placeholder:"Ex: Unité A",autoComplete:"off"})})]})]})]}),e.jsxs(i,{sx:{mb:4},children:[e.jsx(s,{variant:"h6",sx:{mb:3,color:"#1b1464",borderBottom:"2px solid",borderColor:"var(--primary-color)",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Témoignage"}),e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:6,sx:{width:"48.5%"},children:e.jsxs(j,{fullWidth:!0,error:r.touched.category&&!!r.errors.category,children:[e.jsx(v,{id:"testimony-category-label",children:"Catégorie du témoignage *"}),e.jsx(k,{id:"testimony-category",name:"category",value:r.values.category,onChange:r.handleChange,onBlur:r.handleBlur,label:"Catégorie du témoignage *",labelId:"testimony-category-label",displayEmpty:!0,autoComplete:"off",children:J.map(t=>e.jsx(y,{value:t.value,children:t.label},t.value))}),r.touched.category&&r.errors.category&&e.jsx(f,{children:r.errors.category})]})}),e.jsxs(l,{item:!0,xs:6,sx:{width:"48.5%"},children:[e.jsxs(Te,{sx:{height:"56px",display:"flex",alignItems:"center",justifyContent:"flex-start",border:"1px solid var(--border-primary)",borderRadius:"4px",backgroundColor:"var(--background-secondary)",cursor:"pointer",transition:"all 0.3s ease",padding:"0 16px","&:hover":{borderColor:"rgba(76, 0, 130, 0.28)",backgroundColor:"rgba(76, 0, 130, 0.1)",transform:"translateY(-1px)",boxShadow:"0 3px 8px rgba(76, 0, 130, 0.09)"}},children:[e.jsx("input",{accept:"image/*,video/*,.pdf,.doc,.docx,.txt",style:{display:"none"},id:"file-upload",multiple:!0,type:"file",onChange:ie}),e.jsx("label",{htmlFor:"file-upload",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",height:"100%",cursor:"pointer"},children:e.jsxs(i,{display:"flex",alignItems:"center",gap:1.5,children:[e.jsx(U,{sx:{fontSize:28,color:"#1b1464"}}),e.jsxs(i,{textAlign:"left",children:[e.jsx(s,{variant:"body2",sx:{color:"var(--primary-color)",fontWeight:600,fontFamily:'"Playfair Display", serif',fontSize:"0.9rem"},children:"Illustrations (Optionnel)"}),e.jsx(s,{variant:"caption",sx:{color:"#666",fontSize:"0.75rem",display:"block"},children:"Images, vidéos, documents (2 max, 5 Mo chacun)"})]})]})})]}),b.length>0&&e.jsxs(i,{mt:2,width:"100%",children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,sx:{color:"var(--primary-color)",fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Fichiers sélectionnés :"}),e.jsx(i,{sx:{display:"flex",flexWrap:"wrap"},children:b.map((t,a)=>e.jsx(ue,{icon:se(t),label:`${t.name} (${ne(t.size)})`,onDelete:()=>{const n=b.filter((p,m)=>m!==a);F(n)},size:"small",sx:{mr:.5,mb:.5,backgroundColor:"var(--chip-bg)",color:"var(--primary-color)",border:"1px solid var(--chip-border)","& .MuiChip-deleteIcon":{color:"var(--primary-color)"}}},`${t.name}-${a}`))})]})]}),e.jsx(l,{item:!0,xs:12,sx:{width:"100%"},children:e.jsx(x,{fullWidth:!0,id:"testimony-content",name:"content",label:"Votre témoignage *",multiline:!0,rows:6,value:r.values.content,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.content&&!!r.errors.content,helperText:r.touched.content&&r.errors.content,placeholder:"Partagez votre témoignage détaillé ici...",autoComplete:"off"})})]})]}),e.jsxs(i,{sx:{mb:4},children:[e.jsx(s,{variant:"h6",sx:{mb:3,color:"#1b1464",borderBottom:"2px solid",borderColor:"var(--primary-color)",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Témoignage lors d'un culte"}),e.jsxs(i,{sx:{p:2,backgroundColor:"var(--info-bg)",borderRadius:3,border:"2px solid var(--info-border)",boxShadow:"0 3px 10px var(--info-shadow)"},children:[e.jsx(L,{control:e.jsx(O,{id:"testimony-wants-to-testify",name:"wantsToTestify",checked:r.values.wantsToTestify,onChange:t=>{const a=t.target.checked;r.setFieldValue("wantsToTestify",a),a&&r.setFieldValue("isAnonymous",!1)},sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"var(--primary-color)"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"var(--primary-color)"}}}),label:e.jsx(s,{variant:"h6",sx:{fontWeight:600,color:"var(--primary-color)",fontFamily:'"Playfair Display", serif'},children:"Je souhaite témoigner lors d'un culte"})}),e.jsx(f,{sx:{ml:4,color:"#1b1464",fontSize:"0.9rem"},children:r.values.wantsToTestify?"Vous devrez vous identifier et fournir un moyen de contact. L'équipe vous contactera pour confirmer votre participation.":"Votre témoignage sera uniquement publié en ligne."})]})]}),e.jsx(i,{display:"flex",justifyContent:"center",mt:5,children:e.jsx(G,{type:"submit",variant:"contained",size:"large",startIcon:e.jsx(q,{}),disabled:W,children:W?"Soumission...":"Soumettre le témoignage"})})]})}),R&&e.jsx(pe,{severity:"error",sx:{mt:2,width:"100%"},children:R})]})})})}),e.jsxs(he,{open:ee,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-container":{alignItems:"center"},"& .MuiDialog-paper":{m:{xs:1.5,sm:2}}},PaperProps:{sx:{borderRadius:4,background:"linear-gradient(135deg, var(--background-primary) 0%, var(--background-secondary) 50%, var(--background-primary) 100%)",boxShadow:"0 12px 32px var(--modal-shadow), 0 5px 12px var(--drop-shadow)",border:"1px solid var(--info-border)",overflow:"hidden",position:"relative","&::before":{content:'""',position:"absolute",inset:0,height:4,background:"var(--gradient-primary)"}}},BackdropProps:{sx:{backdropFilter:"blur(2px)"}},children:[e.jsx(ge,{sx:{textAlign:"center",py:{xs:2,sm:2.5},background:"var(--gradient-success)",color:"white"},children:e.jsxs(i,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsx(i,{sx:{width:48,height:48,borderRadius:"50%",background:"var(--white-overlay)",display:"flex",alignItems:"center",justifyContent:"center",mb:1.5,boxShadow:"0 5px 12px var(--white-shadow)"},children:e.jsx(be,{sx:{fontSize:32,color:"var(--text-inverse)"}})}),e.jsx(s,{variant:"h6",component:"h2",fontWeight:700,color:"white",sx:{fontFamily:'"Playfair Display", serif',textShadow:"0 1px 2px var(--white-text-shadow)",fontSize:{xs:"1.15rem",sm:"1.30rem"},lineHeight:1.2},children:"Témoignage transmis avec succès !"})]})}),e.jsxs(xe,{sx:{textAlign:"center",py:{xs:2,sm:2.5},px:{xs:2,sm:3},background:"linear-gradient(135deg, var(--background-primary) 0%, var(--background-secondary) 100%)"},children:[e.jsx(s,{variant:"body1",sx:{fontFamily:'"Crimson Text", serif',lineHeight:1.6,color:"#1b1464",fontSize:{xs:"1rem",sm:"1.1rem"},mb:1.5,mt:{xs:1.5,sm:2}},children:"Merci d’avoir partagé ce que Dieu a fait. Votre témoignage compte !"}),e.jsx(s,{variant:"subtitle1",sx:{fontFamily:'"Playfair Display", serif',fontWeight:600,color:"var(--secondary-color)",fontSize:{xs:"1rem",sm:"1.1rem"}},children:"Que Dieu vous bénisse ! 🙏"})]}),e.jsx(me,{sx:{justifyContent:"center",py:{xs:1.5,sm:2},px:{xs:2,sm:3},background:"linear-gradient(135deg, var(--background-secondary) 0%, var(--background-primary) 100%)"},children:e.jsx(H,{onClick:()=>C(!1),variant:"contained",sx:{background:"var(--success-gradient)",color:"white",px:{xs:3,sm:4},py:1.1,borderRadius:2.5,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:700,textTransform:"none",fontFamily:'"Playfair Display", serif',boxShadow:"0 6px 18px var(--success-button-shadow)","&:hover":{background:"var(--gradient-success-hover)",transform:"translateY(-1px)",boxShadow:"0 8px 24px var(--success-hover-shadow)"},"&:active":{transform:"translateY(0)"}},children:"Fermer"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{styles:{"html, body":{scrollbarWidth:"thin",scrollbarColor:"var(--scrollbar-white) transparent"},"html::-webkit-scrollbar, body::-webkit-scrollbar":{width:"10px",height:"10px"},"html::-webkit-scrollbar-track, body::-webkit-scrollbar-track":{background:"transparent"},"html::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-white)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"},"*, *::before, *::after":{scrollbarWidth:"thin",scrollbarColor:"var(--scrollbar-white-hover) transparent"},"*::-webkit-scrollbar":{width:"10px",height:"10px"},"*::-webkit-scrollbar-track":{background:"transparent"},"*::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-white-hover)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"}}}),e.jsx(z,{children:e.jsx(E,{children:e.jsx($,{maxWidth:"md",sx:{minHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(i,{textAlign:"center",width:"100%",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"},children:[e.jsx(X,{sx:{mb:4},children:e.jsx("img",{src:"/logo-sm-acer (1).png",alt:"Logo ACER"})}),e.jsxs(i,{sx:{textAlign:"center",mb:6,width:"100%",position:"relative",padding:{xs:5,sm:6,md:7},borderRadius:3,background:`
                         linear-gradient(135deg, 
                           rgba(255, 255, 255, 0.98) 0%, 
                           rgba(250, 252, 255, 0.95) 100%
                         )
                       `,backdropFilter:"blur(10px)",border:"1px solid rgba(158, 0, 93, 0.2)",boxShadow:"0 5px 10px rgba(102, 45, 145, 0.1)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #1b1464, #2a3184, #FF1493, #2a3184, #1b1464)",borderRadius:"3px 3px 0 0"}},children:[e.jsx(s,{component:"h1",variant:"h2",sx:{mb:4,fontWeight:700,background:"linear-gradient(135deg, #1b1464, #2a3184, #FF1493)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textAlign:"center",fontFamily:'"Playfair Display", serif',fontSize:{xs:"2.5rem",sm:"3.5rem",md:"4rem"},letterSpacing:"0.02em"},children:"WELCOME HOME"}),e.jsx(s,{variant:"h6",sx:{mb:4,lineHeight:1.8,color:"rgba(102, 45, 145, 0.85)",fontFamily:'"Crimson Text", serif',textAlign:"center",maxWidth:"800px",mx:"auto",fontSize:{xs:"1.1rem",sm:"1.2rem",md:"1.3rem"},fontWeight:400},children:"Nous sommes heureux de vous accueillir sur la plateforme de témoignages des églises ACER de la zone Nord-Ouest. Que vous soyez membre d'une de nos assemblées ou un visiteur, sachez que votre témoignage sera une bénédiction pour nous. En effet, nous servons un Dieu qui fait des œuvres merveilleuses dans nos vies. C'est pourquoi, nous voulons faire connaître sa grandeur et sa fidélité de génération en génération."})]}),e.jsx(G,{variant:"contained",size:"large",startIcon:e.jsx(q,{}),onClick:te,disabled:I,sx:{px:8,py:3,fontSize:"1.4rem",borderRadius:"50px",boxShadow:"0 5px 15px var(--card-shadow)",transform:I?"scale(0.95)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"scale(1.05)",boxShadow:"0 8px 20px var(--card-hover-shadow)"}},children:I?"Préparation...":"Partagez votre témoignage"})]})})})})]})};export{Re as default};
