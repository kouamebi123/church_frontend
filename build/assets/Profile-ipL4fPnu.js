import{r as n,j as e,h as ge,B as u,aM as Ae,T as x,G as i,aN as We,F as _,s as S,t as E,M as I,aO as De,ag as Le,aP as Ue,aQ as ke,al as xe,n as b,A as ae,g as Oe,o as Re,a as de,aR as Ne,q as qe,I as O,D as Be,a2 as Me,a3 as J,i as g,aS as ze,k as K,V as X,m as Y,u as ue,v as me,w as pe,x as fe,z as Fe}from"./mui-mRVmBbre.js";import{d as Z,l as y,i as r,y as p,e as Ge,f as Ve,A as He,G as $e,T as Qe,C as Je,S as Ke,g as Xe,a as ee,j as R,k as Ye,h as Ze}from"./index-tM-Ac5N7.js";import{b as er,u as rr}from"./redux-DbjaNwcH.js";import{p as re}from"./preferencesService-CpvhBlZK.js";import"./vendor-Bzgz95E1.js";import"./utils-DP_tgNw_.js";import"./router-BwhLjOj0.js";class ar{async getPreferences(){try{return(await Z.get("/preferences")).data}catch(s){throw y.error("Erreur lors de la récupération des préférences:",s),s}}async updatePreferences(s){try{return(await Z.put("/preferences",s)).data}catch(c){throw y.error("Erreur lors de la mise à jour des préférences:",c),c}}async updateEmailPreferences(s){try{return(await Z.put("/preferences/email",{email_notifications:s})).data}catch(c){throw y.error("Erreur lors de la mise à jour des préférences email:",c),c}}}const he=new ar,sr=()=>{const[l,s]=n.useState({language:"fr",theme:"light",autoTheme:!0,email_notifications:!0}),[c,C]=n.useState({language:"fr",theme:"light",autoTheme:!0,email_notifications:!0}),[d,L]=n.useState(!1),[T,A]=n.useState(!1),[W,N]=n.useState(0);n.useEffect(()=>{(async()=>{try{const f=r.getCurrentLanguage(),v=re.getPreference("autoTheme")||!0,w=await he.getPreferences(),P={language:w?.data?.language||f,theme:w?.data?.theme||"light",autoTheme:v,email_notifications:w?.data?.email_notifications??!0};s(P),C(P)}catch(f){y.error("Erreur lors du chargement des préférences:",f);const v=r.getCurrentLanguage(),w=re.getPreference("autoTheme")||!0,P={language:v,theme:"light",autoTheme:w,email_notifications:!0};s(P),C(P)}})()},[l.theme]),n.useEffect(()=>{const t=c.language!==l.language,f=c.theme!==l.theme,v=c.autoTheme!==l.autoTheme,w=c.email_notifications!==l.email_notifications;A(t||f||v||w)},[l,c]),n.useEffect(()=>{if(W>0){const t=r.getCurrentLanguage();s(f=>({...f,language:t,theme:f.theme}))}},[W]);const D=(t,f)=>{s(v=>({...v,[t]:f})),A(!0)},q=async()=>{L(!0);try{r.setLanguage(l.language),re.setPreference("autoTheme",l.autoTheme);try{const t=await he.updatePreferences({email_notifications:l.email_notifications,language:l.language,theme:l.theme});t&&t.success?y.debug("✅ Préférences sauvegardées avec succès via l'API"):y.warn("⚠️ Réponse API inattendue:",t)}catch(t){y.error("❌ Erreur API lors de la sauvegarde des préférences:",t),p.error("Erreur lors de la sauvegarde sur le serveur, mais les changements locaux sont appliqués")}N(t=>t+1),window.dispatchEvent(new CustomEvent("languageOrThemeChanged",{detail:{language:l.language,theme:l.theme,timestamp:Date.now()}})),p.success(r.t("success.preferencesSaved")),A(!1),C(l)}catch(t){p.error(r.t("errors.general")),y.error("Erreur de sauvegarde:",t)}finally{L(!1)}},j=()=>{s({language:"fr",theme:"light",autoTheme:!0}),r.setLanguage("fr"),A(!1),C(l)};return e.jsxs(ge,{sx:{p:3,mb:3},children:[e.jsxs(u,{display:"flex",alignItems:"center",mb:3,children:[e.jsx(Ae,{sx:{mr:2,color:"primary.main"}}),e.jsx(x,{variant:"h6",component:"h3",children:r.t("profile.preferences.title")})]}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(u,{children:[e.jsxs(u,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(We,{sx:{mr:1,color:"primary.main"}}),e.jsx(x,{variant:"subtitle1",fontWeight:"bold",children:r.t("profile.preferences.language.title")})]}),e.jsxs(_,{fullWidth:!0,children:[e.jsx(S,{id:"preferences-language-label",children:r.t("profile.preferences.language.title")}),e.jsx(E,{id:"preferences-language",name:"language",value:l.language,onChange:t=>D("language",t.target.value),label:r.t("profile.preferences.language.title"),labelId:"preferences-language-label",autoComplete:"off",children:r.getAvailableLanguages().map(t=>e.jsx(I,{value:t.code,children:e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx("span",{style:{marginRight:"8px"},children:t.flag}),e.jsx("span",{children:t.nativeName||t.code.toUpperCase()})]})},t.code))})]})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(u,{children:[e.jsxs(u,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(De,{sx:{mr:1,color:"primary.main"}}),e.jsx(x,{variant:"subtitle1",fontWeight:"bold",children:r.t("profile.preferences.email.title")})]}),e.jsx(Le,{control:e.jsx(Ue,{id:"preferences-email-notifications",name:"email_notifications",checked:l.email_notifications,onChange:t=>D("email_notifications",t.target.checked),color:"primary"}),label:e.jsxs(u,{children:[e.jsx(x,{variant:"body2",children:r.t("profile.preferences.email.notifications")}),e.jsx(x,{variant:"caption",color:"text.secondary",children:r.t("profile.preferences.email.description")})]})})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs(u,{children:[e.jsxs(u,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(ke,{sx:{mr:1,color:"primary.main"}}),e.jsx(x,{variant:"subtitle1",fontWeight:"bold",children:r.t("profile.preferences.theme.title")})]}),e.jsx(x,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:r.t("profile.preferences.theme.disabled")})]})})]}),e.jsx(xe,{sx:{my:3}}),e.jsxs(u,{display:"flex",gap:2,justifyContent:"flex-end",children:[e.jsx(b,{variant:"outlined",onClick:j,disabled:d,children:r.t("common.actions.reset")}),e.jsx(b,{variant:"contained",onClick:q,disabled:d||!T,startIcon:null,children:d?r.t("common.actions.saving"):r.t("profile.actions.savePreferences")})]}),T&&e.jsx(ae,{severity:"info",sx:{mt:2},children:r.t("profile.preferences.unsavedChanges")})]})},ur=()=>{const l=er(),{user:s}=rr(a=>a.auth),[c,C]=n.useState({username:"",email:"",pseudo:""});n.useEffect(()=>{r.init()},[]),Ge(),n.useEffect(()=>{s&&C({username:s.username||"",email:s.email||"",pseudo:s.pseudo||""})},[s]);const[d,L]=n.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[T,A]=n.useState(!1),[W,N]=n.useState(!1),[D,q]=n.useState(!1),[j,t]=n.useState({}),[f,v]=n.useState(!1),[w,P]=n.useState(!1),[se,te]=n.useState(!1),[je,B]=n.useState(!1),[M,z]=n.useState(null),[ie,F]=n.useState(null),[G,ne]=n.useState(!1),[o,V]=n.useState({username:"",pseudo:"",email:"",genre:"",tranche_age:"",profession:"",ville_residence:"",origine:"",situation_matrimoniale:"",niveau_education:"",telephone:"",adresse:"",image:"",departement_id:"",eglise_locale_id:""}),{departments:le,loading:ve}=Ve(),[U,we]=n.useState(0);n.useEffect(()=>{s&&V({username:s.username||"",pseudo:s.pseudo||"",email:s.email||"",genre:s.genre||"",tranche_age:s.tranche_age||"",profession:s.profession||"",ville_residence:s.ville_residence||"",origine:s.origine||"",situation_matrimoniale:s.situation_matrimoniale||"",niveau_education:s.niveau_education||"",telephone:s.telephone||"",adresse:s.adresse||"",image:s.image||"",departement_id:s.departement_id||"",eglise_locale_id:s.eglise_locale_id||s.eglise_locale?.id||""})},[s]);const H=a=>{C({...c,[a.target.name]:a.target.value})},$=a=>{L({...d,[a.target.name]:a.target.value}),j[a.target.name]&&t({...j,[a.target.name]:""})},h=a=>{V({...o,[a.target.name]:a.target.value})},Pe=a=>{const m=a.target.files[0];if(m){if(!m.type.startsWith("image/")){p.error(r.t("profile.image.invalidFileType"));return}if(m.size>5*1024*1024){p.error(r.t("profile.image.fileTooLarge"));return}z(m);const k=new FileReader;k.onload=Te=>{F(Te.target.result)},k.readAsDataURL(m),B(!0)}a.target.value=""},oe=()=>{const a=document.getElementById("profile-image-input");a?a.click():(y.error("Input file non trouvé"),p.error("Erreur: Impossible d'accéder au sélecteur de fichiers"))},be=async()=>{if(M){ne(!0);try{const a=new FormData;a.append("image",M);const m=await ee.users.uploadProfileImage(a);m.data&&m.data.success?(l(R({image:m.data.data.image})),p.success(r.t("profile.image.uploadSuccess")),B(!1),z(null),F(null)):p.error(m.data?.message||r.t("profile.image.uploadError"))}catch{p.error(r.t("profile.image.uploadError"))}finally{ne(!1)}}},ye=async()=>{try{const a=await ee.users.removeProfileImage();a.data&&a.data.success?(l(R({image:""})),p.success(r.t("profile.image.removeSuccess"))):p.error(a.data?.message||r.t("profile.image.removeError"))}catch{p.error(r.t("profile.image.removeError"))}},ce=()=>{B(!1),z(null),F(null)},Ce=()=>{const a={};return d.currentPassword||(a.currentPassword=r.t("errors.validation.currentPasswordRequired")),d.newPassword?d.newPassword.length<6&&(a.newPassword=r.t("errors.validation.passwordMinLength")):a.newPassword=r.t("errors.validation.newPasswordRequired"),d.confirmPassword?d.newPassword!==d.confirmPassword&&(a.confirmPassword=r.t("errors.validation.passwordMismatch")):a.confirmPassword=r.t("errors.validation.confirmPasswordRequired"),d.currentPassword===d.newPassword&&(a.newPassword=r.t("errors.validation.passwordMustBeDifferent")),t(a),Object.keys(a).length===0},Ie=async a=>{a.preventDefault();try{await l(R(c)).unwrap(),p.success(r.t("success.profileUpdated"))}catch(m){p.error(m.message||r.t("errors.api.updateProfile"))}},_e=async a=>{if(a.preventDefault(),!!Ce()){v(!0);try{await Ye.updatePassword({currentPassword:d.currentPassword,newPassword:d.newPassword}),p.success(r.t("success.passwordChanged")),L({currentPassword:"",newPassword:"",confirmPassword:""}),t({})}catch(m){p.error(m.message||r.t("errors.api.changePassword"))}finally{v(!1)}}},Se=()=>{s&&V({username:s.username||"",pseudo:s.pseudo||"",email:s.email||"",genre:s.genre||"",tranche_age:s.tranche_age||"",profession:s.profession||"",ville_residence:s.ville_residence||"",origine:s.origine||"",situation_matrimoniale:s.situation_matrimoniale||"",niveau_education:s.niveau_education||"",telephone:s.telephone||"",adresse:s.adresse||"",departement_id:s.departement_id||"",eglise_locale_id:s.eglise_locale_id||s.eglise_locale?.id||""}),P(!0)},Q=()=>{P(!1)},Ee=async a=>{a.preventDefault(),te(!0);try{await ee.users.updateProfile(o),p.success(r.t("success.profileCompleteUpdated")),l(R({username:o.username,pseudo:o.pseudo,email:o.email})),C({username:o.username,email:o.email,pseudo:o.pseudo}),Q()}catch(m){const k=Ze(m,"la mise à jour du profil complet");p.error(k.message)}finally{te(!1)}};return e.jsxs(Oe,{maxWidth:"md",children:[e.jsxs(ge,{elevation:3,sx:{p:4,mt:4,mb:4},children:[e.jsxs(u,{display:"flex",flexDirection:"column",alignItems:"center",mb:4,children:[e.jsxs(u,{sx:{position:"relative",mb:2},children:[e.jsx(Re,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:e.jsx(Ne,{size:"small",color:"primary","aria-label":r.t("profile.image.changePhoto"),onClick:oe,sx:{width:32,height:32,"&:hover":{transform:"scale(1.1)",transition:"transform 0.2s"}},children:e.jsx(qe,{sx:{fontSize:16}})}),children:e.jsx(de,{src:s?.image?`${He}/${s.image}`:void 0,sx:{width:100,height:100,bgcolor:"primary.main",cursor:"pointer","&:hover":{opacity:.8,transition:"opacity 0.2s"}},onClick:oe,onError:a=>{},children:s?.username?.charAt(0)?.toUpperCase()})}),s?.image&&e.jsx(O,{size:"small",color:"error",onClick:ye,sx:{position:"absolute",top:-8,left:-8,bgcolor:"white",border:"2px solid",borderColor:"error.main","&:hover":{bgcolor:"error.light",color:"white"}},children:e.jsx(Be,{sx:{fontSize:16}})})]}),e.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Pe,style:{display:"none"}}),e.jsx(x,{variant:"h5",gutterBottom:!0,children:r.t("profile.title")})]}),e.jsx(u,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(Me,{value:U,onChange:(a,m)=>we(m),"aria-label":r.t("profile.tabs.informations"),centered:!0,children:[e.jsx(J,{label:r.t("profile.tabs.informations")}),e.jsx(J,{label:r.t("profile.tabs.preferences")}),e.jsx(J,{label:r.t("profile.tabs.security")})]})}),U===0&&e.jsxs(u,{children:[s?e.jsx("form",{onSubmit:Ie,children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{xs:12,children:e.jsx(g,{fullWidth:!0,id:"profile-username",label:r.t("profile.basicInfo.username"),name:"username",value:c.username,onChange:H,autoComplete:"username"})}),e.jsx(i,{xs:12,children:e.jsx(g,{fullWidth:!0,id:"profile-pseudo",label:r.t("profile.basicInfo.pseudo"),name:"pseudo",value:c.pseudo,onChange:H,autoComplete:"nickname"})}),e.jsx(i,{xs:12,children:e.jsx(g,{fullWidth:!0,id:"profile-email",label:r.t("profile.basicInfo.email"),name:"email",type:"email",value:c.email,onChange:H,autoComplete:"email"})}),e.jsx(i,{xs:12,children:e.jsx(b,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",children:r.t("profile.basicInfo.updateButton")})})]})}):e.jsx(u,{display:"flex",justifyContent:"center",p:4,children:e.jsx(x,{variant:"body1",color:"text.secondary",children:r.t("profile.loading")})}),e.jsx(xe,{sx:{my:3}}),e.jsx(u,{display:"flex",justifyContent:"center",children:e.jsx(b,{variant:"outlined",color:"secondary",size:"large",startIcon:e.jsx(ze,{}),onClick:Se,sx:{minWidth:250},children:r.t("profile.basicInfo.editCompleteButton")})})]}),U===1&&e.jsx(sr,{}),U===2&&e.jsxs(u,{children:[e.jsx(x,{variant:"h6",gutterBottom:!0,sx:{mb:3,color:"primary.main"},children:r.t("profile.security.title")}),e.jsx("form",{onSubmit:_e,children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{xs:12,children:e.jsx(g,{fullWidth:!0,id:"profile-current-password",label:r.t("profile.security.currentPassword"),name:"currentPassword",type:T?"text":"password",value:d.currentPassword,onChange:$,error:!!j.currentPassword,helperText:j.currentPassword,autoComplete:"current-password",InputProps:{endAdornment:e.jsx(K,{position:"end",children:e.jsx(O,{onClick:()=>A(!T),edge:"end",children:T?e.jsx(X,{}):e.jsx(Y,{})})})}})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"profile-new-password",label:r.t("profile.security.newPassword"),name:"newPassword",type:W?"text":"password",value:d.newPassword,onChange:$,error:!!j.newPassword,helperText:j.newPassword,autoComplete:"new-password",InputProps:{endAdornment:e.jsx(K,{position:"end",children:e.jsx(O,{onClick:()=>N(!W),edge:"end",children:W?e.jsx(X,{}):e.jsx(Y,{})})})}})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"profile-confirm-password",label:r.t("profile.security.confirmPassword"),name:"confirmPassword",type:D?"text":"password",value:d.confirmPassword,onChange:$,error:!!j.confirmPassword,helperText:j.confirmPassword,autoComplete:"new-password",InputProps:{endAdornment:e.jsx(K,{position:"end",children:e.jsx(O,{onClick:()=>q(!D),edge:"end",children:D?e.jsx(X,{}):e.jsx(Y,{})})})}})}),e.jsx(i,{xs:12,children:e.jsx(ae,{severity:"info",sx:{mb:2},children:r.t("profile.security.passwordInfo")})}),e.jsx(i,{xs:12,children:e.jsx(b,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",disabled:f,children:f?r.t("common.actions.processing"):r.t("profile.security.changePasswordButton")})})]})})]})]}),e.jsxs(ue,{open:w,onClose:Q,maxWidth:"md",fullWidth:!0,children:[e.jsx(me,{children:r.t("profile.completeProfile.title")}),e.jsxs("form",{onSubmit:Ee,children:[e.jsxs(pe,{children:[o.username?e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-username",label:r.t("profile.completeProfile.username"),name:"username",value:o.username,onChange:h,required:!0,autoComplete:"username"})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-pseudo",label:r.t("profile.completeProfile.pseudo"),name:"pseudo",value:o.pseudo,onChange:h,required:!0,autoComplete:"nickname"})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-email",label:r.t("profile.completeProfile.email"),name:"email",type:"email",value:o.email,onChange:h,autoComplete:"email"})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-telephone",label:r.t("profile.completeProfile.telephone"),name:"telephone",value:o.telephone,onChange:h,autoComplete:"tel"})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,required:!0,children:[e.jsx(S,{id:"complete-profile-genre-label",children:r.t("profile.completeProfile.genre")}),e.jsx(E,{id:"complete-profile-genre",name:"genre",value:o.genre,onChange:h,label:r.t("profile.completeProfile.genre"),labelId:"complete-profile-genre-label",autoComplete:"sex",children:$e.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,required:!0,children:[e.jsx(S,{id:"complete-profile-tranche-age-label",children:r.t("profile.completeProfile.trancheAge")}),e.jsx(E,{id:"complete-profile-tranche-age",name:"tranche_age",value:o.tranche_age,onChange:h,label:r.t("profile.completeProfile.trancheAge"),labelId:"complete-profile-tranche-age-label",autoComplete:"bday",children:Qe.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-profession",label:r.t("profile.completeProfile.profession"),name:"profession",value:o.profession,onChange:h,required:!0,autoComplete:"organization-title"})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,id:"complete-profile-ville-residence",label:r.t("profile.completeProfile.villeResidence"),name:"ville_residence",value:o.ville_residence,onChange:h,autoComplete:"address-level2",required:!0})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,required:!0,children:[e.jsx(S,{id:"complete-profile-origine-label",children:r.t("profile.completeProfile.origine")}),e.jsx(E,{id:"complete-profile-origine",name:"origine",value:o.origine,onChange:h,label:r.t("profile.completeProfile.origine"),labelId:"complete-profile-origine-label",autoComplete:"country",children:Je.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,required:!0,children:[e.jsx(S,{id:"complete-profile-situation-matrimoniale-label",children:r.t("profile.completeProfile.situationMatrimoniale")}),e.jsx(E,{id:"complete-profile-situation-matrimoniale",name:"situation_matrimoniale",value:o.situation_matrimoniale,onChange:h,label:r.t("profile.completeProfile.situationMatrimoniale"),labelId:"complete-profile-situation-matrimoniale-label",autoComplete:"off",children:Ke.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,required:!0,children:[e.jsx(S,{id:"complete-profile-niveau-education-label",children:r.t("profile.completeProfile.niveauEducation")}),e.jsx(E,{id:"complete-profile-niveau-education",name:"niveau_education",value:o.niveau_education,onChange:h,label:r.t("profile.completeProfile.niveauEducation"),labelId:"complete-profile-niveau-education-label",autoComplete:"off",children:Xe.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]})}),e.jsx(i,{xs:12,md:6,children:e.jsxs(_,{fullWidth:!0,sx:{minWidth:180},children:[e.jsx(S,{id:"complete-profile-departement-label",children:r.t("profile.completeProfile.departement")}),e.jsxs(E,{id:"complete-profile-departement",name:"departement_id",value:o.departement_id||"",onChange:h,label:r.t("profile.completeProfile.departement"),labelId:"complete-profile-departement-label",disabled:ve,autoComplete:"off",children:[e.jsx(I,{value:"",children:e.jsx("em",{children:r.t("profile.completeProfile.noDepartement")})}),Array.isArray(le)&&le.map(a=>e.jsx(I,{value:a.id,children:a.nom},a.id))]})]})}),e.jsx(i,{xs:12,md:6,children:e.jsx(g,{fullWidth:!0,label:r.t("profile.completeProfile.adresse"),name:"adresse",value:o.adresse,onChange:h,multiline:!0,rows:3})})]}):e.jsx(u,{display:"flex",justifyContent:"center",p:4,children:e.jsx(x,{variant:"body1",color:"text.secondary",children:r.t("profile.completeProfile.loading")})}),e.jsxs(ae,{severity:"info",sx:{mt:2},children:[e.jsx("strong",{children:"Note :"})," ",r.t("profile.completeProfile.note")]})]}),e.jsxs(fe,{children:[e.jsx(b,{onClick:Q,color:"primary",children:r.t("common.actions.cancel")}),e.jsx(b,{type:"submit",variant:"contained",color:"primary",disabled:se,children:se?r.t("common.actions.processing"):r.t("common.actions.save")})]})]})]}),e.jsxs(ue,{open:je,onClose:ce,maxWidth:"sm",fullWidth:!0,children:[e.jsx(me,{children:r.t("profile.image.previewTitle")}),e.jsx(pe,{children:e.jsxs(u,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[ie&&e.jsx(de,{src:ie,sx:{width:150,height:150,border:"3px solid",borderColor:"primary.main"}}),e.jsx(x,{variant:"body2",color:"text.secondary",textAlign:"center",children:M?.name}),e.jsx(x,{variant:"caption",color:"text.secondary",textAlign:"center",children:r.t("profile.image.confirmUpload")})]})}),e.jsxs(fe,{children:[e.jsx(b,{onClick:ce,color:"primary",children:r.t("common.actions.cancel")}),e.jsx(b,{onClick:be,variant:"contained",color:"primary",disabled:G,startIcon:G?e.jsx(Fe,{size:16}):null,children:G?r.t("common.actions.uploading"):r.t("common.actions.upload")})]})]})]})};export{ur as default};
