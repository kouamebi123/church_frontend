import{r as c,j as e,B as n,T as o,A as u,n as h,q as p}from"./mui-mRVmBbre.js";import"./vendor-Bzgz95E1.js";const b=()=>{const[l,r]=c.useState(null),[a,m]=c.useState([]),s=i=>{m(t=>[...t,`${new Date().toLocaleTimeString()}: ${i}`])},d=i=>{s("Méthode 1 - handleFileSelect appelé"),s(`Fichiers: ${i.target.files.length}`);const t=i.target.files[0];t&&(s(`Fichier sélectionné: ${t.name} (${t.type}, ${t.size} bytes)`),r(t)),i.target.value=""},x=i=>{s("Méthode 2 - handleFileSelect appelé"),s(`Fichiers: ${i.target.files.length}`);const t=i.target.files[0];t&&(s(`Fichier sélectionné: ${t.name} (${t.type}, ${t.size} bytes)`),r(t)),i.target.value=""},g=()=>{s("Bouton cliqué - tentative d'ouverture du gestionnaire de fichiers");const i=document.getElementById("test-file-input");i?(s("Input trouvé, déclenchement du click"),i.click()):s("ERREUR: Input non trouvé")};return e.jsxs(n,{sx:{p:3},children:[e.jsx(o,{variant:"h5",gutterBottom:!0,children:"Test d'Upload de Fichiers - Diagnostic"}),e.jsx(u,{severity:"info",sx:{mb:3},children:"Cette page teste différentes méthodes d'upload de fichiers pour diagnostiquer le problème."}),e.jsxs(n,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:'Méthode 1: Button avec component="label"'}),e.jsxs(h,{variant:"outlined",component:"label",startIcon:e.jsx(p,{}),sx:{mb:2},children:["Sélectionner une image (Méthode 1)",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:d})]})]}),e.jsxs(n,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Méthode 2: Input visible"}),e.jsx("input",{id:"file-upload-test-visible",name:"file",type:"file",accept:"image/*",onChange:x,style:{width:"100%",marginBottom:"16px"}})]}),e.jsxs(n,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Méthode 3: JavaScript click"}),e.jsx(h,{variant:"outlined",startIcon:e.jsx(p,{}),onClick:g,sx:{mb:2},children:"Sélectionner une image (Méthode 3)"}),e.jsx("input",{id:"test-file-input",name:"file",type:"file",accept:"image/*",onChange:d,style:{display:"none"}})]}),l&&e.jsxs(u,{severity:"success",sx:{mb:2},children:["Fichier sélectionné avec succès: ",l.name," (",l.type,", ",l.size," bytes)"]}),e.jsxs(n,{sx:{mt:3},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Logs de diagnostic:"}),e.jsx(n,{sx:{maxHeight:200,overflow:"auto",border:"1px solid #ddd",p:1,bgcolor:"#f5f5f5",fontFamily:"monospace",fontSize:"0.875rem"},children:a.length===0?e.jsx(o,{color:"text.secondary",children:"Aucun log pour le moment..."}):a.map((i,t)=>e.jsx("div",{children:i},t))})]})]})};export{b as default};
