"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[440],{7762:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(99992),r=a(70579);const l=(0,i.A)((0,r.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},23907:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(99992),r=a(70579);const l=(0,i.A)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5M9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8m6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"GroupWork")},49982:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(99992),r=a(70579);const l=(0,i.A)((0,r.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},64440:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var i=a(65043),r=a(77210),l=a(37528),s=a(94799),o=a(53969),n=a(55895),c=a(10256),h=a(79067),d=a(67203),x=a(47471),m=a(53089),p=a(58128),u=a(57528),g=a(42579),v=a(99992),A=a(70579);const b=(0,v.A)((0,A.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),f=(0,v.A)((0,A.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var w,j=a(94527),y=a(41894),C=a(56266),S=a(83290);const _=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"relative",width:"100%",height:"550px",overflow:"hidden",marginBottom:t.spacing(4),"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5))",pointerEvents:"none"}}}),k=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"absolute",width:"100%",height:"100%",opacity:0,transition:"opacity 0.9s ease-in-out","&.active":{opacity:1}}}),M=(0,S.i7)(w||(w=(0,u.A)(["\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(1.12);\n  }\n"]))),I=(0,p.Ay)("img")({width:"100%",height:"100%",objectFit:"cover",animation:"".concat(M," 15s linear infinite")}),V=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",zIndex:2,width:"90%",maxWidth:"800px",padding:t.spacing(3),animation:"$fadeIn 1s ease-out","@keyframes fadeIn":{from:{opacity:0,transform:"translate(-50%, -40%)"},to:{opacity:1,transform:"translate(-50%, -50%)"}}}}),z=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"absolute",top:"50%",width:"100%",display:"flex",justifyContent:"space-between",padding:t.spacing(0,2),transform:"translateY(-50%)",zIndex:2}}),E=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"absolute",bottom:t.spacing(2),left:"50%",transform:"translateX(-50%)",display:"flex",gap:t.spacing(1),zIndex:2}}),L=(0,p.Ay)(o.A)(e=>{let{theme:t}=e;return{width:40,height:4,backgroundColor:"rgba(255, 255, 255, 0.5)",cursor:"pointer",transition:"all 0.3s ease-in-out","&.active":{backgroundColor:t.palette.primary.main,width:50},"&:hover":{backgroundColor:t.palette.primary.light}}}),W=()=>{const[e,t]=(0,i.useState)(0),[a,l]=(0,i.useState)([]),[s,c]=(0,i.useState)(!0),[h,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{c(!0);try{var e;const t=await y.apiService.carousel.getAll(),a=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data||[];l(Array.isArray(a)?a:[]),d(null)}catch(t){const e=(0,r.hS)(t,C.A.t("images.loadingError"));d(e.message),l([])}finally{c(!1)}})()},[]);const x=(0,i.useCallback)(()=>{t(e=>(e+1)%a.length)},[a]),m=(0,i.useCallback)(()=>{t(e=>(e-1+a.length)%a.length)},[a]),p=(0,i.useCallback)(e=>{t(e)},[]);return(0,i.useEffect)(()=>{if(a.length>0){const e=setInterval(x,5e3);return()=>clearInterval(e)}},[x,a]),(0,A.jsxs)(_,{children:[(0,A.jsxs)(o.A,{children:[(0,A.jsx)(o.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.4)"}}),(0,A.jsxs)(V,{children:[(0,A.jsx)(n.A,{variant:"h2",sx:{mb:3,color:"white",fontWeight:900,textShadow:"2px 2px 4px rgba(0,0,0,0.5)",fontSize:{xs:"2rem",sm:"3rem",md:"4rem"}},children:C.A.t("home.welcome.title")}),(0,A.jsx)(j.A,{sx:{my:2,borderColor:"primary.main",borderWidth:2,width:250,mx:"auto",borderRadius:2,opacity:1}}),(0,A.jsx)(n.A,{variant:"h4",sx:{fontWeight:500,color:"white",textShadow:"1px 1px 3px rgba(0,0,0,0.5)",fontSize:{xs:"1.2rem",sm:"1.5rem",md:"2rem"}},children:C.A.t("home.welcome.subtitle")})]})]}),s?(0,A.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,A.jsx)(n.A,{children:C.A.t("common.actions.loading")})}):h?(0,A.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,A.jsx)(n.A,{color:"error",children:h})}):0===a.length?(0,A.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,A.jsx)(n.A,{children:C.A.t("home.carousel.noImages")})}):a.map((t,a)=>(0,A.jsx)(k,{className:a===e?"active":"",children:(0,A.jsx)(I,{src:"".concat("http://localhost:5001").concat(t.image_url),alt:"Slide ".concat(a+1)})},t.id||t._id)),(0,A.jsxs)(z,{children:[(0,A.jsx)(g.A,{onClick:m,sx:{color:"rgba(255, 255, 255, 0.56)",backgroundColor:"rgba(76, 0, 130, 0.4)",boxShadow:"0 4px 16px rgba(0,0,0,0.25)",width:{xs:30,sm:40,md:48},height:{xs:30,sm:40,md:48},"& svg":{fontSize:{xs:24,sm:28,md:32}},"&:hover":{backgroundColor:"rgba(76, 0, 130, 0.73)",transform:"scale(1.15)",color:"rgba(255, 255, 255, 0.86)",border:"2px solid rgba(255, 255, 255, 0.57)"},border:"2px solid rgba(255, 255, 255, 0.29)",transition:"all 0.3s"},children:(0,A.jsx)(b,{})}),(0,A.jsx)(g.A,{onClick:x,sx:{color:"rgba(255, 255, 255, 0.56)",backgroundColor:"rgba(75, 0, 130, 0.42)",boxShadow:"0 4px 16px rgba(0,0,0,0.25)",width:{xs:30,sm:40,md:48},height:{xs:30,sm:40,md:48},"& svg":{fontSize:{xs:24,sm:28,md:32}},"&:hover":{backgroundColor:"rgba(75, 0, 130, 1)",transform:"scale(1.15)",color:"rgba(255, 255, 255, 0.86)",border:"2px solid rgba(255, 255, 255, 0.71)"},border:"2px solid rgba(255, 255, 255, 0.29)",transition:"all 0.3s"},children:(0,A.jsx)(f,{})})]}),(0,A.jsx)(E,{children:a.map((t,a)=>(0,A.jsx)(L,{className:a===e?"active":"",onClick:()=>p(a)},a))})]})},T=(0,v.A)([(0,A.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,A.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings");var P=a(7762);const R=(0,v.A)((0,A.jsx)("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount");var B=a(23907);const G=(0,v.A)([(0,A.jsx)("circle",{cx:"12",cy:"4",r:"2"},"0"),(0,A.jsx)("path",{d:"M15.89 8.11C15.5 7.72 14.83 7 13.53 7h-2.54C8.24 6.99 6 4.75 6 2H4c0 3.16 2.11 5.84 5 6.71V22h2v-6h2v6h2V10.05L18.95 14l1.41-1.41z"},"1")],"EmojiPeople"),H=(0,v.A)((0,A.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),D=(0,v.A)([(0,A.jsx)("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),(0,A.jsx)("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")],"Diversity3"),F=(0,v.A)((0,A.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4m2 2v2h3v3h2v-3h3v-2h-3V7h-2v3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonAddAlt1");var O=a(47440);const N=(0,v.A)([(0,A.jsx)("circle",{cx:"14.5",cy:"10.5",r:"1.25"},"0"),(0,A.jsx)("circle",{cx:"9.5",cy:"10.5",r:"1.25"},"1"),(0,A.jsx)("path",{d:"M22.94 12.66q.06-.315.06-.66c0-.345-.02-.45-.06-.66-.25-1.51-1.36-2.74-2.81-3.17-.53-1.12-1.28-2.1-2.19-2.91C16.36 3.85 14.28 3 12 3s-4.36.85-5.94 2.26c-.92.81-1.67 1.8-2.19 2.91-1.45.43-2.56 1.65-2.81 3.17Q1 11.655 1 12c0 .345.02.45.06.66.25 1.51 1.36 2.74 2.81 3.17.52 1.11 1.27 2.09 2.17 2.89C7.62 20.14 9.71 21 12 21s4.38-.86 5.97-2.28c.9-.8 1.65-1.79 2.17-2.89 1.44-.43 2.55-1.65 2.8-3.17M19 14c-.1 0-.19-.02-.29-.03-.2.67-.49 1.29-.86 1.86C16.6 17.74 14.45 19 12 19s-4.6-1.26-5.85-3.17c-.37-.57-.66-1.19-.86-1.86-.1.01-.19.03-.29.03-1.1 0-2-.9-2-2s.9-2 2-2c.1 0 .19.02.29.03.2-.67.49-1.29.86-1.86C7.4 6.26 9.55 5 12 5s4.6 1.26 5.85 3.17c.37.57.66 1.19.86 1.86.1-.01.19-.03.29-.03 1.1 0 2 .9 2 2s-.9 2-2 2M7.5 14c.76 1.77 2.49 3 4.5 3s3.74-1.23 4.5-3z"},"2")],"ChildCare"),U=(0,v.A)([(0,A.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v8h2V5h18v16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,A.jsx)("circle",{cx:"9",cy:"10",r:"4"},"1"),(0,A.jsx)("path",{d:"M15.39 16.56C13.71 15.7 11.53 15 9 15s-4.71.7-6.39 1.56C1.61 17.07 1 18.1 1 19.22V22h16v-2.78c0-1.12-.61-2.15-1.61-2.66"},"2")],"CoPresent");var Y=a(49982),q=a(72301),Q=a(98914),X=a(47408),$=a(45350);const J=(0,p.Ay)(s.A,{shouldForwardProp:e=>"isTotal"!==e})(e=>{let{theme:t,isTotal:a}=e;return{padding:t.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",gap:t.spacing(2),backgroundColor:a?t.palette.primary.main:"white",color:a?"white":t.palette.text.primary,borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-10px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"}}}),K=(0,p.Ay)(o.A,{shouldForwardProp:e=>"isTotal"!==e})(e=>{let{theme:t,isTotal:a}=e;return{width:60,height:60,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:a?"white":t.palette.primary.main,color:a?t.palette.primary.main:"white",marginBottom:t.spacing(2)}}),Z=(0,p.Ay)(n.A)(e=>{let{theme:t}=e;return{textAlign:"center",fontWeight:"bold",color:t.palette.text.primary}}),ee=()=>{const{user:e,isUserFullyLoaded:t,syncUser:a}=(0,X.k)(),{selectedChurch:s,changeSelectedChurch:p,churches:u}=(0,Q.w)(),{isAdmin:g,isSuperAdmin:v}=(0,$.S)(),[b,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{e&&!t&&a()},[e,t,a]),(0,i.useEffect)(()=>{(async()=>{try{var t;let a;if(g||v){let t=null;null!==s&&void 0!==s&&s.id||null!==s&&void 0!==s&&s._id?t=s.id||s._id:null!==e&&void 0!==e&&e.eglise_locale&&(t="object"===typeof e.eglise_locale?e.eglise_locale.id||e.eglise_locale._id:e.eglise_locale),a=t?await y.apiService.stats.getOverview({churchId:t}):await y.apiService.stats.getOverview()}else{let t=null;null!==e&&void 0!==e&&e.eglise_locale&&(t="object"===typeof e.eglise_locale?e.eglise_locale.id:e.eglise_locale),a=t?await y.apiService.stats.getOverview({churchId:t}):await y.apiService.stats.getOverview()}f((null===(t=a.data)||void 0===t?void 0:t.data)||a.data||{})}catch(a){(0,r.hS)(a,C.A.t("errors.api.loadStats"));f({})}})()},[e,s]);if(!b)return(0,A.jsx)(q.A,{titre:C.A.t("home.statsLoading")});const w=[{label:C.A.t("home.gouvernance"),value:b.total_gouvernance,icon:T},{label:C.A.t("home.totalReseaux"),value:b.total_reseaux,icon:P.A},{label:C.A.t("home.responsablesReseaux"),value:b.total_resp_reseaux,icon:R},{label:C.A.t("home.totalGr"),value:b.total_gr,icon:B.A},{label:C.A.t("home.responsablesGr"),value:b.total_resp_gr,icon:G},{label:C.A.t("home.leaders"),value:b.total_leaders,icon:H},{label:C.A.t("home.leadersTous"),value:b.total_leaders_all,icon:H},{label:C.A.t("home.membresReguliers"),value:b.total_reguliers,icon:D},{label:C.A.t("home.membresEnIntegration"),value:b.total_integration,icon:F},{label:C.A.t("home.membresIrr\xe9guliers"),value:b.total_irreguliers,icon:O.A},{label:C.A.t("home.ecodim"),value:b.total_ecodim,icon:N},{label:C.A.t("home.responsablesEcodim"),value:b.total_resp_ecodim,icon:U}];return(0,A.jsxs)(o.A,{children:[(0,A.jsx)(l.A,{}),(0,A.jsx)(W,{}),(0,A.jsxs)(o.A,{width:"100%",textAlign:"center",children:[(0,A.jsx)(n.A,{variant:"h3",sx:{mb:4,textAlign:"center",fontWeight:"bold",color:"primary.main"},children:C.A.t("home.title")}),(g||v)&&(0,A.jsx)(o.A,{sx:{mb:3,display:"flex",justifyContent:"center"},children:(0,A.jsxs)(c.A,{sx:{minWidth:250},children:[(0,A.jsx)(h.A,{id:"church-select-label",children:C.A.t("home.filterByChurch")}),(0,A.jsx)(d.A,{value:(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s._id)||"",onChange:e=>{return t=e.target.value,void p(t);var t},displayEmpty:!0,label:C.A.t("home.filterByChurch"),renderValue:e=>s?s.nom:C.A.t("home.selectChurch"),children:u.map(e=>(0,A.jsx)(x.A,{value:e.id||e._id,children:e.nom},e.id||e._id))})]})}),(0,A.jsxs)(m.A,{container:!0,width:"92%",mx:"auto",children:[w.map((e,t)=>(0,A.jsx)(m.A,{"data-aos":"fade-up",sx:{width:"100%",padding:"10px 10px 10px 10px","@media (min-width:460px) and (max-width:699px)":{width:"50%",height:"270px"},"@media (min-width:700px) and (max-width:1099px)":{width:"33.33%",height:"270px"},"@media (min-width:1100px) and (max-width:1199px)":{width:"25%",height:"270px"},"@media (min-width:1200px) and (max-width:1599px)":{width:"20%",height:"270px"},"@media (min-width:1600px)":{width:"20%"},flexBasis:"unset",maxWidth:"unset",flexGrow:0,flexShrink:0,height:"100%"},children:(0,A.jsxs)(J,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(K,{children:(0,A.jsx)(e.icon,{sx:{fontSize:30}})}),(0,A.jsx)(Z,{variant:"h6",children:e.label}),(0,A.jsx)(Z,{variant:"h4",color:"primary",children:e.value})]})},t)),(0,A.jsx)(m.A,{"data-aos":"fade-up",sx:{width:"100%",padding:"10px 10px 10px 10px","@media (min-width:460px) and (max-width:699px)":{width:"50%",height:"270px"},"@media (min-width:700px) and (max-width:1099px)":{width:"33.33%",height:"270px"},"@media (min-width:1100px) and (max-width:1199px)":{width:"25%",height:"270px"},"@media (min-width:1200px) and (max-width:1599px)":{width:"20%",height:"270px"},"@media (min-width:1600px)":{width:"20%"},flexBasis:"unset",maxWidth:"unset",flexGrow:0,flexShrink:0,height:"100%"},children:(0,A.jsxs)(J,{isTotal:!0,sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(K,{isTotal:!0,children:(0,A.jsx)(Y.A,{sx:{fontSize:30,color:"primary.main"}})}),(0,A.jsx)(Z,{variant:"h6",sx:{color:"white"},children:C.A.t("home.totalEffectif")}),(0,A.jsx)(Z,{variant:"h3",sx:{color:"white"},children:b.total_all})]})})]})]})]})}}}]);
//# sourceMappingURL=440.6e4bb3fe.chunk.js.map