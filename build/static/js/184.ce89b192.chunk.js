"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[184],{85030:(e,t,r)=>{r.d(t,{A:()=>B});var a=r(80045),o=r(89379),i=r(65043),n=r(58387),s=r(31807),l=r(97194),c=r(34412),d=r(52196),h=r(58128),u=r(51612),p=r(28301),m=r(79857),g=r(86061);function x(e){return(0,g.Ay)("MuiSwitch",e)}const f=(0,m.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var b=r(69905),A=r(70579);const y=["className","color","edge","size","sx","slots","slotProps"],w=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t["edge".concat((0,l.A)(r.edge))],t["size".concat((0,l.A)(r.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(f.thumb)]:{width:16,height:16},["& .".concat(f.switchBase)]:{padding:4,["&.".concat(f.checked)]:{transform:"translateX(16px)"}}}}]}),v=(0,h.Ay)(d.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{["& .".concat(f.input)]:t.input},"default"!==r.color&&t["color".concat((0,l.A)(r.color))]]}})((0,u.A)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(f.checked)]:{transform:"translateX(20px)"},["&.".concat(f.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(f.checked," + .").concat(f.track)]:{opacity:.5},["&.".concat(f.disabled," + .").concat(f.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(f.input)]:{left:"-100%",width:"300%"}}}),(0,u.A)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((0,c.A)(["light"])).map(e=>{let[r]=e;return{props:{color:r},style:{["&.".concat(f.checked)]:{color:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(f.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(r,"DisabledColor")]:"".concat("light"===t.palette.mode?t.lighten(t.palette[r].main,.62):t.darken(t.palette[r].main,.55))}},["&.".concat(f.checked," + .").concat(f.track)]:{backgroundColor:(t.vars||t).palette[r].main}}}})]}})),j=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Track"})((0,u.A)(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),k=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Thumb"})((0,u.A)(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),B=i.forwardRef(function(e,t){const r=(0,p.b)({props:e,name:"MuiSwitch"}),{className:i,color:c="primary",edge:d=!1,size:h="medium",sx:u,slots:m={},slotProps:g={}}=r,f=(0,a.A)(r,y),B=(0,o.A)((0,o.A)({},r),{},{color:c,edge:d,size:h}),C=(e=>{const{classes:t,edge:r,size:a,color:i,checked:n,disabled:c}=e,d={root:["root",r&&"edge".concat((0,l.A)(r)),"size".concat((0,l.A)(a))],switchBase:["switchBase","color".concat((0,l.A)(i)),n&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=(0,s.A)(d,x,t);return(0,o.A)((0,o.A)({},t),h)})(B),S={slots:m,slotProps:g},[I,z]=(0,b.A)("root",{className:(0,n.A)(C.root,i),elementType:w,externalForwardedProps:S,ownerState:B,additionalProps:{sx:u}}),[M,E]=(0,b.A)("thumb",{className:C.thumb,elementType:k,externalForwardedProps:S,ownerState:B}),N=(0,A.jsx)(M,(0,o.A)({},E)),[F,P]=(0,b.A)("track",{className:C.track,elementType:j,externalForwardedProps:S,ownerState:B});return(0,A.jsxs)(I,(0,o.A)((0,o.A)({},z),{},{children:[(0,A.jsx)(v,(0,o.A)((0,o.A)({type:"checkbox",icon:N,checkedIcon:N,ref:t,ownerState:B},f),{},{classes:(0,o.A)((0,o.A)({},C),{},{root:C.switchBase}),slots:(0,o.A)((0,o.A)({},m.switchBase&&{root:m.switchBase}),m.input&&{input:m.input}),slotProps:(0,o.A)((0,o.A)({},g.switchBase&&{root:"function"===typeof g.switchBase?g.switchBase(B):g.switchBase}),{},{input:{role:"switch"}},g.input&&{input:"function"===typeof g.input?g.input(B):g.input})})),(0,A.jsx)(F,(0,o.A)({},P))]}))})},94184:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var a=r(65043),o=r(53969),i=r(94799),n=r(12097),s=r(80172),l=r(28887),c=r(55895),d=r(1725),h=r(85030),u=r(22947),p=r(53089),m=r(24343),g=r(10256),x=r(79067),f=r(67203),b=r(47471),A=r(83759),y=r(91449),w=r(33023),v=r(81911),j=r(78776),k=r(85877),B=r(99992),C=r(70579);const S=(0,B.A)((0,C.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),I=(0,B.A)((0,C.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile"),z=(0,B.A)((0,C.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description");var M=r(17171),E=r(93201),N=r(58128),F=r(63516),P=r(80899);const W=(0,N.Ay)(o.A)(e=>{let{theme:t}=e;return{minHeight:"100vh",width:"100%",background:"\n    linear-gradient(135deg, rgba(76, 0, 130, 0.34) 0%, rgba(137, 43, 226, 0.34) 50%, rgba(76, 0, 130, 0.37) 100%),\n    url('/IMG_7993.jpg')\n  ",backgroundSize:"100% 100%",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",padding:t.spacing(2,0),position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(75, 0, 130, 0.3) 0%, rgba(138, 43, 226, 0.2) 50%, rgba(75, 0, 130, 0.3) 100%)",zIndex:1}}}),R=(0,N.Ay)(o.A)(e=>{let{theme:t}=e;return{position:"relative",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"}}),D=(0,N.Ay)(i.A)(e=>{let{theme:t}=e;return{padding:t.spacing(3),[t.breakpoints.up("sm")]:{padding:t.spacing(5)},display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"800px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:t.spacing(4),boxShadow:"0 25px 50px rgba(75, 0, 130, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.3)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"6px",background:"linear-gradient(90deg, #4B0082 0%, #8A2BE2 50%, #4B0082 100%)"}}}),T=(0,N.Ay)(o.A)(e=>{let{theme:t}=e;return{textAlign:"center",marginBottom:t.spacing(4),padding:t.spacing(4),background:"linear-gradient(135deg, #4B0082 0%, #8A2BE2 50%, #4B0082 100%)",borderRadius:t.spacing(3),color:"white",width:"100%",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",opacity:.3}}}),L=(0,N.Ay)(o.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:t.spacing(3),"& img":{height:80,width:"auto",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}}),V=(0,N.Ay)(o.A)(()=>({width:"100%"})),q=(0,N.Ay)(o.A)(e=>{let{theme:t}=e;return{width:"100%",border:"3px dashed #4B0082",borderRadius:t.spacing(3),padding:t.spacing(4),textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:"rgba(75, 0, 130, 0.05)","&:hover":{backgroundColor:"rgba(75, 0, 130, 0.1)",borderColor:"#8A2BE2",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(75, 0, 130, 0.2)"}}}),H=(0,N.Ay)(n.A)(e=>{let{theme:t}=e;return{background:"linear-gradient(135deg, #4B0082 0%, #8A2BE2 50%, #4B0082 100%)",color:"white",padding:t.spacing(2,6),fontSize:"1.2rem",fontWeight:600,borderRadius:t.spacing(3),textTransform:"none",boxShadow:"0 8px 25px rgba(75, 0, 130, 0.3)","&:hover":{background:"linear-gradient(135deg, #8A2BE2 0%, #4B0082 50%, #8A2BE2 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 35px rgba(75, 0, 130, 0.4)"},"&:disabled":{background:"rgba(75, 0, 130, 0.3)",color:"rgba(255, 255, 255, 0.7)"}}}),Y=()=>{const[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[B,N]=(0,a.useState)([]),[Y,O]=(0,a.useState)(!0),[U,_]=(0,a.useState)(!1),[G,X]=(0,a.useState)(!1),[J,K]=(0,a.useState)(""),[Q,Z]=(0,a.useState)([]),$=P.Ik({firstName:P.Yj().when("isAnonymous",{is:!1,then:e=>e.required("Le pr\xe9nom est requis"),otherwise:e=>e.notRequired()}),lastName:P.Yj().when("isAnonymous",{is:!1,then:e=>e.required("Le nom est requis"),otherwise:e=>e.notRequired()}),churchId:P.Yj().required("L'\xe9glise est requise"),networkId:P.Yj(),category:P.Yj().required("La cat\xe9gorie est requise"),content:P.Yj().required("Le t\xe9moignage est requis").min(100,"Le t\xe9moignage doit contenir au moins 100 caract\xe8res").max(5e3,"Le t\xe9moignage ne doit pas d\xe9passer 5000 caract\xe8res"),isAnonymous:P.zM()}),ee=(0,F.Wx)({initialValues:{firstName:"",lastName:"",churchId:"",networkId:"",category:"",content:"",isAnonymous:!0},validationSchema:$,validateOnMount:!1,onSubmit:async e=>{_(!0),K("");try{const t=new FormData;t.append("firstName",e.firstName),t.append("lastName",e.lastName),t.append("churchId",e.churchId);const r="AUCUN_RESEAU"===e.networkId?null:e.networkId;t.append("networkId",r||""),t.append("category",e.category),t.append("content",e.content),t.append("isAnonymous",String(e.isAnonymous)),Q.forEach(e=>{t.append("illustrations",e)});const a=await fetch("http://localhost/api/testimonies",{method:"POST",body:t}),o=await a.json();o.success?(X(!0),ee.resetForm(),Z([]),i([])):K(o.message||"Erreur lors de la soumission")}catch(J){console.error("Erreur lors de la soumission:",J),K("Erreur lors de la soumission du t\xe9moignage")}finally{_(!1)}}});(0,a.useEffect)(()=>{(async()=>{try{const[e,r]=await Promise.all([fetch("/api/testimonies/churches"),fetch("/api/testimonies/categories")]);if(e.ok){const r=await e.json();t(r.data||[])}if(r.ok){const e=await r.json();N(e.data||[])}}catch(J){console.error("Erreur lors du chargement des donn\xe9es:",J),K("Erreur lors du chargement des donn\xe9es")}finally{O(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(ee.values.churchId)try{const e=await fetch("/api/testimonies/networks/".concat(ee.values.churchId));if(e.ok){const t=await e.json();i(t.data||[])}}catch(J){console.error("Erreur lors du chargement des r\xe9seaux:",J)}else i([])})()},[ee.values.churchId]);const te=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][t])},re=e=>{var t,r;return null!==(t=e.type)&&void 0!==t&&t.startsWith("image/")?(0,C.jsx)(S,{}):null!==(r=e.type)&&void 0!==r&&r.startsWith("video/")?(0,C.jsx)(I,{}):(0,C.jsx)(z,{})};return Y?(0,C.jsx)(W,{children:(0,C.jsx)(R,{children:(0,C.jsx)(o.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:(0,C.jsx)(s.A,{size:60,sx:{color:"#4B0082"}})})})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.A,{styles:{"html, body":{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent"},"html::-webkit-scrollbar, body::-webkit-scrollbar":{width:"10px",height:"10px"},"html::-webkit-scrollbar-track, body::-webkit-scrollbar-track":{background:"transparent"},"html::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"},"*, *::before, *::after":{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.51) transparent"},"*::-webkit-scrollbar":{width:"10px",height:"10px"},"*::-webkit-scrollbar-track":{background:"transparent"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.51)",borderRadius:"999px",border:"3px solid transparent",backgroundClip:"padding-box"},"@keyframes pulse":{"0%":{opacity:1,transform:"scale(1)"},"50%":{opacity:.5,transform:"scale(1.2)"},"100%":{opacity:1,transform:"scale(1)"}}}}),(0,C.jsxs)(W,{children:[(0,C.jsx)(R,{children:(0,C.jsxs)(D,{maxWidth:"md",children:[(0,C.jsxs)(o.A,{textAlign:"center",mb:4,width:"100%",children:[(0,C.jsx)(L,{children:(0,C.jsx)("img",{src:"/logo-sm-acer (1).png",alt:"Logo ACER"})}),(0,C.jsx)(c.A,{component:"h1",variant:"h3",sx:{mb:2,fontWeight:"bold",color:"#4B0082",textAlign:"center",fontFamily:'"Playfair Display", serif',textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Partagez votre t\xe9moignage"}),(0,C.jsxs)(T,{children:[(0,C.jsx)(c.A,{variant:"h4",component:"h2",fontWeight:"bold",sx:{fontFamily:'"Playfair Display", serif',color:"white"},children:"Apocalypse 12:11"}),(0,C.jsx)(c.A,{variant:"h6",sx:{opacity:.95,fontStyle:"italic",fontFamily:'"Crimson Text", serif',lineHeight:1.6,color:"white"},children:"\"Ils l'ont vaincu \xe0 cause du sang de l'agneau et \xe0 cause de la parole de leur t\xe9moignage, et ils n'ont pas aim\xe9 leur vie jusqu'\xe0 craindre la mort\""})]})]}),(0,C.jsx)(V,{children:(0,C.jsxs)(o.A,{component:"form",onSubmit:ee.handleSubmit,noValidate:!0,sx:{width:"100%"},children:[(0,C.jsxs)(o.A,{sx:{mb:4},children:[(0,C.jsx)(c.A,{variant:"h6",sx:{mb:3,color:"#4B0082",borderBottom:"2px solid",borderColor:"#4B0082",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Informations personnelles"}),(0,C.jsxs)(o.A,{sx:{p:1,backgroundColor:"rgba(76, 0, 130, 0.04)",borderRadius:3,border:"2px solid rgba(76, 0, 130, 0.06)",mb:3,boxShadow:"0 4px 15px rgba(76, 0, 130, 0.04)"},children:[(0,C.jsx)(d.A,{control:(0,C.jsx)(h.A,{checked:!ee.values.isAnonymous,onChange:e=>{const t=!e.target.checked;ee.setFieldValue("isAnonymous",t),t&&(ee.setFieldValue("firstName",""),ee.setFieldValue("lastName",""))},sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#4B0082"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#4B0082"}}}),label:(0,C.jsx)(c.A,{variant:"h6",sx:{fontWeight:600,color:"#4B0082",fontFamily:'"Playfair Display", serif'},children:"Je souhaite m'identifier"})}),(0,C.jsx)(u.A,{sx:{ml:4,color:"#4B0082",fontSize:"0.9rem"},children:ee.values.isAnonymous?"Votre t\xe9moignage sera publi\xe9 de mani\xe8re anonyme":"Votre nom et pr\xe9nom seront affich\xe9s avec votre t\xe9moignage"})]}),!ee.values.isAnonymous&&(0,C.jsxs)(p.A,{container:!0,spacing:2,children:[(0,C.jsx)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:(0,C.jsx)(m.A,{fullWidth:!0,id:"firstName",name:"firstName",label:"Pr\xe9nom *",value:ee.values.firstName,onChange:ee.handleChange,onBlur:ee.handleBlur,error:ee.touched.firstName&&Boolean(ee.errors.firstName),helperText:ee.touched.firstName&&ee.errors.firstName})}),(0,C.jsx)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:(0,C.jsx)(m.A,{fullWidth:!0,id:"lastName",name:"lastName",label:"Nom *",value:ee.values.lastName,onChange:ee.handleChange,onBlur:ee.handleBlur,error:ee.touched.lastName&&Boolean(ee.errors.lastName),helperText:ee.touched.lastName&&ee.errors.lastName})})]})]}),(0,C.jsxs)(o.A,{sx:{mb:4},children:[(0,C.jsx)(c.A,{variant:"h6",sx:{mb:3,color:"#4B0082",borderBottom:"2px solid",borderColor:"#4B0082",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Appartenance"}),(0,C.jsxs)(p.A,{container:!0,spacing:2,children:[(0,C.jsx)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:(0,C.jsxs)(g.A,{fullWidth:!0,error:ee.touched.churchId&&Boolean(ee.errors.churchId),children:[(0,C.jsx)(x.A,{children:"\xc9glise *"}),(0,C.jsx)(f.A,{name:"churchId",value:ee.values.churchId,onChange:ee.handleChange,onBlur:ee.handleBlur,label:"\xc9glise *",displayEmpty:!0,children:e.map(e=>(0,C.jsxs)(b.A,{value:e.id,children:[e.nom," - ",e.ville]},e.id))}),ee.touched.churchId&&ee.errors.churchId&&(0,C.jsx)(u.A,{children:ee.errors.churchId})]})}),(0,C.jsx)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:(0,C.jsxs)(g.A,{fullWidth:!0,children:[(0,C.jsx)(x.A,{children:"R\xe9seau"}),(0,C.jsxs)(f.A,{name:"networkId",value:ee.values.networkId,onChange:ee.handleChange,onBlur:ee.handleBlur,label:"R\xe9seau",displayEmpty:!0,disabled:!ee.values.churchId,children:[(0,C.jsx)(b.A,{value:"AUCUN_RESEAU",children:(0,C.jsx)("em",{children:"Aucun r\xe9seau"})}),r.map(e=>(0,C.jsx)(b.A,{value:e.id,children:e.nom},e.id))]})]})})]})]}),(0,C.jsxs)(o.A,{sx:{mb:4},children:[(0,C.jsx)(c.A,{variant:"h6",sx:{mb:3,color:"#4B0082",borderBottom:"2px solid",borderColor:"#4B0082",pb:1,fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"T\xe9moignage"}),(0,C.jsxs)(p.A,{container:!0,spacing:2,children:[(0,C.jsx)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:(0,C.jsxs)(g.A,{fullWidth:!0,error:ee.touched.category&&Boolean(ee.errors.category),children:[(0,C.jsx)(x.A,{children:"Cat\xe9gorie du t\xe9moignage *"}),(0,C.jsx)(f.A,{name:"category",value:ee.values.category,onChange:ee.handleChange,onBlur:ee.handleBlur,label:"Cat\xe9gorie du t\xe9moignage *",displayEmpty:!0,children:B.map(e=>(0,C.jsx)(b.A,{value:e.value,children:e.label},e.value))}),ee.touched.category&&ee.errors.category&&(0,C.jsx)(u.A,{children:ee.errors.category})]})}),(0,C.jsxs)(p.A,{item:!0,xs:6,sx:{width:"48.5%"},children:[(0,C.jsxs)(q,{sx:{height:"56px",display:"flex",alignItems:"center",justifyContent:"flex-start",border:"1px solid #c4c4c4",borderRadius:"4px",backgroundColor:"#fafafa",cursor:"pointer",transition:"all 0.3s ease",padding:"0 16px","&:hover":{borderColor:"rgba(76, 0, 130, 0.28)",backgroundColor:"rgba(76, 0, 130, 0.1)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(76, 0, 130, 0.09)"}},children:[(0,C.jsx)("input",{accept:"image/*,video/*,.pdf,.doc,.docx,.txt",style:{display:"none"},id:"file-upload",multiple:!0,type:"file",onChange:e=>{const t=Array.from(e.target.files||[]);if(Q.length+t.length>2)return void K("Maximum ".concat(2," fichiers autoris\xe9s. Vous avez d\xe9j\xe0 ").concat(Q.length," fichier(s) s\xe9lectionn\xe9(s)."));for(const r of t)if(r.size>5242880)return void K('Le fichier "'.concat(r.name,'" est trop volumineux. Taille maximale autoris\xe9e : 5 MB.'));Q.reduce((e,t)=>e+t.size,0)+t.reduce((e,t)=>e+t.size,0)>10485760?K("Taille totale des fichiers trop importante. Maximum autoris\xe9 : 10 MB au total."):(K(""),Z(e=>[...e,...t]))}}),(0,C.jsx)("label",{htmlFor:"file-upload",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",height:"100%",cursor:"pointer"},children:(0,C.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1.5,children:[(0,C.jsx)(S,{sx:{fontSize:28,color:"#4B0082"}}),(0,C.jsxs)(o.A,{textAlign:"left",children:[(0,C.jsx)(c.A,{variant:"body2",sx:{color:"#4B0082",fontWeight:600,fontFamily:'"Playfair Display", serif',fontSize:"0.9rem"},children:"Illustrations (Optionnel)"}),(0,C.jsx)(c.A,{variant:"caption",sx:{color:"#666",fontSize:"0.75rem",display:"block"},children:"Images, vid\xe9os, documents (2 max, 5 Mo chacun)"})]})]})})]}),Q.length>0&&(0,C.jsxs)(o.A,{mt:2,width:"100%",children:[(0,C.jsx)(c.A,{variant:"subtitle2",gutterBottom:!0,sx:{color:"#4B0082",fontWeight:600,fontFamily:'"Playfair Display", serif'},children:"Fichiers s\xe9lectionn\xe9s :"}),(0,C.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap"},children:Q.map((e,t)=>(0,C.jsx)(A.A,{icon:re(e),label:"".concat(e.name," (").concat(te(e.size),")"),onDelete:()=>{const e=Q.filter((e,r)=>r!==t);Z(e)},size:"small",sx:{mr:.5,mb:.5,backgroundColor:"rgba(75, 0, 130, 0.1)",color:"#4B0082",border:"1px solid rgba(75, 0, 130, 0.3)","& .MuiChip-deleteIcon":{color:"#4B0082"}}},"".concat(e.name,"-").concat(t)))})]})]}),(0,C.jsx)(p.A,{item:!0,xs:12,sx:{width:"100%"},children:(0,C.jsx)(m.A,{fullWidth:!0,id:"content",name:"content",label:"Votre t\xe9moignage *",multiline:!0,rows:6,value:ee.values.content,onChange:ee.handleChange,onBlur:ee.handleBlur,error:ee.touched.content&&Boolean(ee.errors.content),helperText:ee.touched.content&&ee.errors.content,placeholder:"Partagez votre t\xe9moignage d\xe9taill\xe9 ici..."})})]})]}),(0,C.jsx)(o.A,{display:"flex",justifyContent:"center",mt:5,children:(0,C.jsx)(H,{type:"submit",variant:"contained",size:"large",startIcon:(0,C.jsx)(M.A,{}),disabled:U,children:U?"Soumission...":"Soumettre le t\xe9moignage"})})]})}),J&&(0,C.jsx)(y.A,{severity:"error",sx:{mt:2,width:"100%"},children:J})]})}),(0,C.jsxs)(w.A,{open:G,onClose:()=>X(!1),maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-container":{alignItems:"center"},"& .MuiDialog-paper":{m:{xs:1.5,sm:2}}},PaperProps:{sx:{borderRadius:4,background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 50%, #ffffff 100%)",boxShadow:"0 14px 36px rgba(75, 0, 130, 0.12), 0 6px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(75, 0, 130, 0.08)",overflow:"hidden",position:"relative","&::before":{content:'""',position:"absolute",inset:0,height:4,background:"linear-gradient(90deg, #4B0082 0%, #8A2BE2 50%, #4B0082 100%)"}}},BackdropProps:{sx:{backdropFilter:"blur(2px)"}},children:[(0,C.jsx)(v.A,{sx:{textAlign:"center",py:{xs:2,sm:2.5},background:"linear-gradient(135deg, #4B0082 0%, #8A2BE2 100%)",color:"white"},children:(0,C.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,C.jsx)(o.A,{sx:{width:48,height:48,borderRadius:"50%",background:"rgba(255, 255, 255, 0.18)",display:"flex",alignItems:"center",justifyContent:"center",mb:1.5,boxShadow:"0 6px 16px rgba(0, 0, 0, 0.15)"},children:(0,C.jsx)(E.A,{sx:{fontSize:32,color:"#ffffff"}})}),(0,C.jsx)(c.A,{variant:"h6",component:"h2",fontWeight:700,color:"white",sx:{fontFamily:'"Playfair Display", serif',textShadow:"0 1px 2px rgba(0,0,0,0.12)",fontSize:{xs:"1.15rem",sm:"1.30rem"},lineHeight:1.2},children:"T\xe9moignage soumis avec succ\xe8s\xa0!"})]})}),(0,C.jsxs)(j.A,{sx:{textAlign:"center",py:{xs:2,sm:2.5},px:{xs:2,sm:3},background:"linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%)"},children:[(0,C.jsx)(c.A,{variant:"body1",sx:{fontFamily:'"Crimson Text", serif',lineHeight:1.6,color:"#4B0082",fontSize:{xs:"1rem",sm:"1.1rem"},mb:1.5,mt:{xs:1.5,sm:2}},children:"Merci d\u2019avoir partag\xe9 ce que Dieu a fait. Votre t\xe9moignage compte !"}),(0,C.jsx)(c.A,{variant:"subtitle1",sx:{fontFamily:'"Playfair Display", serif',fontWeight:600,color:"#7a36e1",fontSize:{xs:"1rem",sm:"1.1rem"}},children:"Que Dieu vous b\xe9nisse\xa0! \ud83d\ude4f"})]}),(0,C.jsx)(k.A,{sx:{justifyContent:"center",py:{xs:1.5,sm:2},px:{xs:2,sm:3},background:"linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%)"},children:(0,C.jsx)(n.A,{onClick:()=>X(!1),variant:"contained",sx:{background:"linear-gradient(135deg, rgb(73,2,123) 0%, rgb(86,9,157) 100%)",color:"white",px:{xs:3,sm:4},py:1.1,borderRadius:2.5,fontSize:{xs:"0.95rem",sm:"1rem"},fontWeight:700,textTransform:"none",fontFamily:'"Playfair Display", serif',boxShadow:"0 8px 22px rgba(75, 0, 130, 0.28)","&:hover":{background:"linear-gradient(135deg, rgb(104,9,192) 0%, #4B0082 100%)",transform:"translateY(-1px)",boxShadow:"0 10px 28px rgba(75, 0, 130, 0.34)"},"&:active":{transform:"translateY(0)"}},children:"Fermer"})})]})]})]})}}}]);
//# sourceMappingURL=184.ce89b192.chunk.js.map